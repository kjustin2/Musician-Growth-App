var le=Object.defineProperty;var de=(s,t,a)=>t in s?le(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a;var V=(s,t,a)=>(de(s,typeof t!="symbol"?t+"":t,a),a);import{j as e}from"./bootstrap-198de5fa.js";import{a as ue,r as y,R as me}from"./vendor-b1791c80.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function a(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=a(r);fetch(r.href,n)}})();var ae,Z=ue;ae=Z.createRoot,Z.hydrateRoot;const he="modulepreload",pe=function(s){return"/Musician-Growth-App/"+s},J={},ge=function(t,a,i){if(!a||a.length===0)return t();const r=document.getElementsByTagName("link");return Promise.all(a.map(n=>{if(n=pe(n),n in J)return;J[n]=!0;const c=n.endsWith(".css"),o=c?'[rel="stylesheet"]':"";if(!!i)for(let h=r.length-1;h>=0;h--){const p=r[h];if(p.href===n&&(!c||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${o}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":he,c||(u.as="script",u.crossOrigin=""),u.href=n,document.head.appendChild(u),c)return new Promise((h,p)=>{u.addEventListener("load",h),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t()).catch(n=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=n,window.dispatchEvent(c),!c.defaultPrevented)throw n})},D={TOTAL:5,INSTRUMENT:1,PERFORMANCE_FREQUENCY:2,CROWD_SIZE:3,EXPERIENCE:4,MARKETING_EFFORTS:5},K={MIN_RECOMMENDATIONS:3,MAX_RECOMMENDATIONS:5,LOADING_DELAY_MS:2e3},O={MIN:0,MAX:50},xe=["Guitar","Piano","Vocals","Drums","Bass","Violin","Saxophone","Trumpet","Flute","Keyboard","Ukulele","Other"],ve=[{id:"social",label:"Social Media (Facebook, Instagram, TikTok)"},{id:"mailing",label:"Mailing List"},{id:"website",label:"Website/Blog"},{id:"posters",label:"Posters/Fliers"},{id:"networking",label:"Networking with other musicians"},{id:"none",label:"None of the above"}],fe=["Instrument","Performance Frequency","Crowd Size","Experience","Marketing Efforts"];function R(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}function _(s){return s.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function W(s){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s)}function $(s){const t=Math.floor(s/60),a=s%60;return t>0?`${t}h ${a}m`:`${a}m`}function L(s,t){const a=new Date,i=s.getTime()-a.getTime(),r=Math.ceil(i/(1e3*3600*24));return r<=t&&r>=0}function z(s,t=!1){return[...s].sort((a,i)=>t?a.date.getTime()-i.date.getTime():i.date.getTime()-a.date.getTime())}function U(s){return s.length===0?0:s.reduce((t,a)=>t+a,0)/s.length}function H(s){return s.reduce((t,a)=>t+a,0)}class je{groupActivitiesByWeek(t){const a={};return t.forEach(i=>{const n=`${this.getWeekNumber(i.date)}`;a[n]||(a[n]=[]),a[n].push(i)}),a}getWeekNumber(t){const a=new Date(t.getFullYear(),0,1);return Math.ceil(((t.getTime()-a.getTime())/864e5+a.getDay()+1)/7)}analyzePerformanceTrends(t){if(t.length===0)return{averageAudienceSize:0,totalEarnings:0,showFrequency:"stable",venueProgression:"stable"};const a=z(t,!0),i=t.map(u=>u.audienceSize),r=t.map(u=>u.payment),n=U(i),c=H(r),o=this.calculateShowFrequencyTrend(a),l=this.calculateVenueProgression(a);return{averageAudienceSize:n,totalEarnings:c,showFrequency:o,venueProgression:l}}calculateShowFrequencyTrend(t){if(t.length<4)return"stable";const a=Math.floor(t.length/2),i=t.slice(0,a),r=t.slice(a),n=this.calculateDateRangeInDays(i),c=this.calculateDateRangeInDays(r);if(n===0||c===0)return"stable";const o=i.length/n,l=r.length/c,u=.1;return l>o*(1+u)?"increasing":l<o*(1-u)?"decreasing":"stable"}calculateDateRangeInDays(t){var r,n;if(t.length<2)return 0;const a=(r=t[0])==null?void 0:r.date,i=(n=t[t.length-1])==null?void 0:n.date;return!a||!i?0:Math.ceil((i.getTime()-a.getTime())/(1e3*3600*24))}calculateVenueProgression(t){if(t.length<4)return"stable";const a=t.map(o=>this.getVenueScore(o.venueType)),i=Math.floor(a.length/2),r=U(a.slice(0,i)),n=U(a.slice(i)),c=.5;return n>r+c?"improving":n<r-c?"declining":"stable"}getVenueScore(t){return{bar:1,restaurant:2,private_event:3,other:3,concert_hall:4,festival:5}[t]||3}analyzePracticeHabits(t){if(t.length===0)return{weeklyAverage:0,consistency:"needs_improvement",recommendedAdjustment:"increase",suggestProfessionalLessons:!0};const a=this.calculateWeeklyPracticeAverage(t),i=this.calculatePracticeConsistency(t),r=this.getRecommendedPracticeAdjustment(a),n=this.shouldSuggestProfessionalLessons(t,a);return{weeklyAverage:a,consistency:i,recommendedAdjustment:r,suggestProfessionalLessons:n}}calculateWeeklyPracticeAverage(t){var l,u;if(t.length===0)return 0;const a=z(t,!0),i=(l=a[0])==null?void 0:l.date,r=(u=a[a.length-1])==null?void 0:u.date;if(!i||!r)return 0;const n=Math.ceil((r.getTime()-i.getTime())/(1e3*3600*24))+1,c=Math.max(1,n/7);return H(t.map(h=>h.duration))/c}calculatePracticeConsistency(t){var c,o;if(t.length<4)return"needs_improvement";const a=z(t,!0),i=[];for(let l=1;l<a.length;l++){const u=(c=a[l])==null?void 0:c.date,h=(o=a[l-1])==null?void 0:o.date;if(u&&h){const p=Math.ceil((u.getTime()-h.getTime())/864e5);i.push(p)}}const r=U(i),n=Math.max(...i);return r<=2&&n<=7?"excellent":r<=4&&n<=14?"good":"needs_improvement"}getRecommendedPracticeAdjustment(t){return t<300*.8?"increase":t>900?"decrease":"maintain"}shouldSuggestProfessionalLessons(t,a){if(a<120||t.length<4)return!0;const r=t.slice(-8).flatMap(c=>c.focusAreas);return new Set(r).size>r.length*.7}calculateTotalPracticeTime(t){return H(t.map(a=>a.duration))}calculateAverageShowPayment(t){const a=t.map(i=>i.payment);return U(a)}getTopVenueTypes(t){const a=t.reduce((i,r)=>(i[r.venueType]=(i[r.venueType]||0)+1,i),{});return Object.entries(a).map(([i,r])=>({type:i,count:r})).sort((i,r)=>r.count-i.count)}getMostPracticedSkills(t){const a=t.reduce((i,r)=>(r.skillsWorkedOn.forEach(n=>{i[n]=(i[n]||0)+1}),i),{});return Object.entries(a).map(([i,r])=>({skill:i,count:r})).sort((i,r)=>r.count-i.count)}}const T=new je,ye=[{id:"MKT_01",title:"Build Your Online Presence",description:"Start by creating accounts on Instagram and TikTok. Post one high-quality video of you playing each week. Use relevant hashtags like #livemusic and #{instrument}player to reach your target audience.",category:"marketing",priority:"high",condition:s=>(s.marketingEfforts.length===0||s.marketingEfforts.includes("none"))&&G(s.crowdSize)<50},{id:"MKT_02",title:"Amplify Your Existing Audience",description:"You already have a solid fanbase! Create social media accounts to connect with your audience between shows. Share behind-the-scenes content, upcoming gigs, and engage with your fans regularly.",category:"marketing",priority:"high",condition:s=>!s.marketingEfforts.includes("social")&&G(s.crowdSize)>=50},{id:"MKT_03",title:"Start an Email List",description:"Collect email addresses at your gigs and online. Send monthly updates about new songs, upcoming shows, and exclusive content. Email marketing has the highest ROI of all digital marketing channels.",category:"marketing",priority:"medium",condition:s=>!s.marketingEfforts.includes("mailing")&&G(s.crowdSize)>=10},{id:"PERF_01",title:"Get On Stage!",description:"You have the skills - now it's time to perform! Start with open mic nights at local venues. They're low-pressure environments perfect for building stage confidence and meeting other musicians.",category:"performance",priority:"high",condition:s=>s.performanceFrequency==="never"&&s.yearsOfExperience>=1},{id:"PERF_02",title:"Increase Your Performance Frequency",description:"Try to book more regular gigs. Aim for at least one performance per month. Consistency helps build your reputation and grow your audience. Contact local venues, coffee shops, and restaurants.",category:"performance",priority:"medium",condition:s=>["monthly","yearly"].includes(s.performanceFrequency)&&G(s.crowdSize)<50},{id:"PERF_03",title:"Target Larger Venues",description:"You're performing regularly - great! Now focus on venues that can accommodate larger audiences. Research venues in nearby cities and submit professional press kits with your best recordings.",category:"performance",priority:"medium",condition:s=>["weekly","multiple"].includes(s.performanceFrequency)&&G(s.crowdSize)<100},{id:"NET_01",title:"Connect with Fellow Musicians",description:"Attend local jam sessions and music events. Collaborating with other musicians can expose you to new audiences and opportunities. Consider forming a band or booking joint shows.",category:"networking",priority:"medium",condition:s=>!s.marketingEfforts.includes("networking")&&s.yearsOfExperience>=2},{id:"NET_02",title:"Cross-Promote with Local Artists",description:"Partner with other local musicians for show swaps and social media cross-promotion. Share each other's content and attend each other's shows to combine your audiences.",category:"networking",priority:"high",condition:s=>G(s.crowdSize)<50&&["weekly","multiple"].includes(s.performanceFrequency)},{id:"SKILL_01",title:"Focus on Daily Practice",description:"Dedicate at least 30 minutes daily to focused practice. Work on technique, learn new songs, and gradually challenge yourself with more complex pieces. Consistency beats intensity.",category:"skill",priority:"high",condition:s=>s.yearsOfExperience<2},{id:"SKILL_02",title:"Develop Your Unique Sound",description:"You have the basics down - now work on developing your signature style. Experiment with different genres, write original material, and find what makes you stand out from other musicians.",category:"skill",priority:"medium",condition:s=>s.yearsOfExperience>=2&&s.yearsOfExperience<5},{id:"SKILL_03",title:"Share Your Expertise",description:"With your experience, consider teaching lessons or creating educational content. This provides additional income and establishes you as an authority in your field.",category:"skill",priority:"low",condition:s=>s.yearsOfExperience>=5&&s.performanceFrequency!=="multiple"},{id:"ADV_01",title:"Consider Professional Recording",description:"You have a solid fanbase and experience. Invest in professional recording to create high-quality demos or an EP. This opens doors to radio play, streaming playlists, and industry contacts.",category:"skill",priority:"medium",condition:s=>s.yearsOfExperience>=5&&G(s.crowdSize)>=100}];function Q(s){const t=Ne(s),a=be(s),i=[...t,...a],r=Pe(i),n={high:0,medium:1,low:2};return r.sort((c,o)=>n[c.priority]-n[o.priority]),r.slice(0,K.MAX_RECOMMENDATIONS)}function Ne(s){const t=ye.filter(a=>a.condition(s)).map(a=>({id:a.id,title:a.title,description:a.description.replace("{instrument}",s.instrument.toLowerCase()),category:a.category,priority:a.priority}));return t.length<K.MIN_RECOMMENDATIONS&&t.push({id:"GEN_01",title:"Document Your Journey",description:"Create content about your musical journey. Share practice videos, cover songs, and document your progress. This builds your personal brand and connects you with other musicians.",category:"marketing",priority:"medium"}),t}function be(s){const t=[];return s.shows&&s.shows.length>0&&t.push(...ke(s)),s.practiceLog&&s.practiceLog.length>0&&t.push(...Se(s)),s.goals&&s.goals.length>0&&t.push(...we(s)),t}function ke(s){const t=[],a=T.analyzePerformanceTrends(s.shows);return a.showFrequency==="decreasing"&&t.push({id:"PERF_TREND_01",title:"Reverse Your Performance Decline",description:"Your performance frequency has been decreasing. Consider booking more regular gigs to maintain momentum. Set a goal to perform at least once per month.",category:"performance",priority:"high"}),a.showFrequency==="increasing"&&t.push({id:"PERF_TREND_02",title:"Capitalize on Your Momentum",description:"Great job increasing your performance frequency! Consider reaching out to larger venues or festivals to expand your audience reach.",category:"performance",priority:"medium"}),a.venueProgression==="declining"&&t.push({id:"VENUE_01",title:"Aim for Better Venues",description:"Focus on booking higher-quality venues. Research concert halls, music festivals, and established music venues in your area.",category:"performance",priority:"medium"}),a.totalEarnings>0&&a.averageAudienceSize>50&&a.totalEarnings/s.shows.length<200&&t.push({id:"EARN_01",title:"Increase Your Performance Rates",description:"With your growing audience, consider raising your performance fees. Research standard rates for your area and experience level.",category:"performance",priority:"medium"}),t}function Se(s){const t=[],a=T.analyzePracticeHabits(s.practiceLog);return a.recommendedAdjustment==="increase"&&t.push({id:"PRACTICE_01",title:"Increase Your Practice Time",description:`Your current practice schedule averages ${Math.round(a.weeklyAverage)} minutes per week. Consider increasing to 5-7 hours weekly for optimal skill development.`,category:"skill",priority:"high"}),a.recommendedAdjustment==="decrease"&&t.push({id:"PRACTICE_02",title:"Balance Practice and Performance",description:"While your dedication to practice is admirable, consider balancing practice time with performance opportunities to apply your skills.",category:"skill",priority:"medium"}),a.consistency==="needs_improvement"&&t.push({id:"PRACTICE_03",title:"Improve Practice Consistency",description:"Regular practice is more effective than sporadic long sessions. Try to practice for shorter periods more frequently.",category:"skill",priority:"high"}),a.suggestProfessionalLessons&&t.push({id:"PRACTICE_04",title:"Consider Professional Lessons",description:"Based on your practice patterns, professional lessons could help you focus your efforts and accelerate your progress.",category:"skill",priority:"medium"}),t}function we(s){const t=[],a=s.goals.filter(n=>n.status==="active"),i=s.goals.filter(n=>n.status==="completed");if(a.length>0){const n=a.filter(c=>c.deadline&&new Date(c.deadline)<new Date);n.length>0&&t.push({id:"GOAL_01",title:"Review Overdue Goals",description:`You have ${n.length} overdue goal(s). Consider adjusting deadlines or breaking them into smaller, manageable tasks.`,category:"skill",priority:"high"})}if(i.length>0){const n=i.filter(c=>{const o=new Date;return o.setDate(o.getDate()-30),new Date(c.createdAt)>o});n.length>0&&t.push({id:"GOAL_02",title:"Set New Challenges",description:`Congratulations on completing ${n.length} goal(s) recently! Consider setting new, more ambitious goals to continue your growth.`,category:"skill",priority:"medium"})}return new Set(s.goals.map(n=>n.type)).size<3&&s.shows.length>5&&t.push({id:"GOAL_03",title:"Diversify Your Goals",description:"Consider setting goals in different areas: performance, financial, recording, and skill development to ensure well-rounded growth.",category:"skill",priority:"low"}),t}function Pe(s){const t=new Set;return s.filter(a=>t.has(a.id)?!1:(t.add(a.id),!0))}function G(s){switch(s){case"1-10":return 5;case"10-50":return 30;case"50-100":return 75;case"100-500":return 300;case"500+":return 500;default:return 0}}const re={currentPage:"landing",musicianProfile:null,availableProfiles:[],recommendations:[],isLoading:!1,error:null,navigationContext:null},ne=y.createContext(void 0);function Ee(s,t){switch(t.type){case"SET_PAGE":return{...s,currentPage:t.payload};case"SET_PROFILE":return{...s,musicianProfile:t.payload};case"SET_AVAILABLE_PROFILES":return{...s,availableProfiles:t.payload};case"SET_RECOMMENDATIONS":return{...s,recommendations:t.payload};case"SET_LOADING":return{...s,isLoading:t.payload};case"SET_ERROR":return{...s,error:t.payload};case"SET_NAVIGATION_CONTEXT":return{...s,navigationContext:t.payload};case"ADD_PERFORMANCE":return s.musicianProfile?{...s,musicianProfile:{...s.musicianProfile,shows:[...s.musicianProfile.shows,t.payload],lastUpdated:new Date}}:s;case"ADD_PRACTICE_SESSION":return s.musicianProfile?{...s,musicianProfile:{...s.musicianProfile,practiceLog:[...s.musicianProfile.practiceLog,t.payload],lastUpdated:new Date}}:s;case"ADD_GOAL":return s.musicianProfile?{...s,musicianProfile:{...s.musicianProfile,goals:[...s.musicianProfile.goals,t.payload],lastUpdated:new Date}}:s;case"UPDATE_GOAL":return s.musicianProfile?{...s,musicianProfile:{...s.musicianProfile,goals:s.musicianProfile.goals.map(a=>a.id===t.payload.id?{...a,...t.payload.updates}:a),lastUpdated:new Date}}:s;case"ADD_ACHIEVEMENT":return s.musicianProfile?{...s,musicianProfile:{...s.musicianProfile,achievements:[...s.musicianProfile.achievements,t.payload],lastUpdated:new Date}}:s;case"RESET":return re;default:return s}}function Ae({children:s}){const[t,a]=y.useReducer(Ee,re);return e.jsx(ne.Provider,{value:{state:t,dispatch:a},children:s})}function C(){const s=y.useContext(ne);if(s===void 0)throw new Error("useApp must be used within an AppProvider");return s}function Ce(){const{dispatch:s}=C();return t=>s({type:"SET_PAGE",payload:t})}function Te(){const{dispatch:s}=C();return t=>s({type:"SET_RECOMMENDATIONS",payload:t})}function De(){const{dispatch:s}=C();return()=>s({type:"RESET"})}function Re(){const{dispatch:s}=C();return y.useCallback(async t=>{try{s({type:"SET_LOADING",payload:!0});const{storageService:a}=await ge(()=>Promise.resolve().then(()=>Ke),void 0);await a.init(),await a.saveProfile(t),s({type:"SET_PROFILE",payload:t});const i=Q(t);s({type:"SET_RECOMMENDATIONS",payload:i}),await new Promise(r=>setTimeout(r,K.LOADING_DELAY_MS)),s({type:"SET_PAGE",payload:"dashboard"})}catch(a){console.error("Profile submission error:",a),s({type:"SET_ERROR",payload:"Failed to save profile"})}finally{s({type:"SET_LOADING",payload:!1})}},[s])}const F=y.memo(({variant:s="primary",size:t="medium",fullWidth:a=!1,children:i,className:r="",...n})=>{const c=["btn",`btn-${s}`,`btn-${t}`,a?"btn-fullwidth":"",r].filter(Boolean).join(" ");return e.jsx("button",{className:c,...n,children:i})});const ee=()=>{const s=Ce(),t=()=>{s("profile-selection")};return e.jsx("div",{className:"landing-page",children:e.jsxs("div",{className:"container",children:[e.jsxs("section",{className:"hero-section",children:[e.jsx("h1",{className:"hero-title",children:"Track Your Musical Journey"}),e.jsx("p",{className:"hero-subtitle",children:"Track performances, practice sessions, and goals while getting personalized recommendations to grow your music career"}),e.jsx(F,{variant:"primary",size:"large",onClick:t,className:"cta-button",children:"Get Started"})]}),e.jsxs("section",{className:"how-it-works",children:[e.jsx("h2",{children:"How It Works"}),e.jsxs("div",{className:"steps-container",children:[e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"1"}),e.jsx("h3",{children:"Create Your Profile"}),e.jsx("p",{children:"Set up your musician profile with your instrument, experience, and goals"})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"2"}),e.jsx("h3",{children:"Track Your Activities"}),e.jsx("p",{children:"Log performances, practice sessions, and progress toward your goals"})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"3"}),e.jsx("h3",{children:"Get Smart Recommendations"}),e.jsx("p",{children:"Receive personalized advice based on your tracked data and progress trends"})]})]})]})]})})};function _e(s){const t=new Date,a={practiceReminders:!1,goalDeadlineAlerts:!0,performanceMetrics:!0,notifications:!0,dataSharing:!1,themes:"light",language:"en",defaultVenueType:"bar"};return{id:R(),name:"",createdAt:t,lastUpdated:t,instrument:"",performanceFrequency:"never",crowdSize:"1-10",yearsOfExperience:0,marketingEfforts:[],genres:[],shows:[],practiceLog:[],goals:[],achievements:[],preferences:a,...s}}function Oe(s){return _e(s)}const Fe=({currentStep:s,totalSteps:t,labels:a})=>{const i=s/t*100;return e.jsxs("div",{className:"progress-bar-container",children:[e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-bar-fill",style:{width:`${i}%`}})}),e.jsx("div",{className:"progress-steps",children:e.jsxs("span",{className:"progress-text",children:["Step ",s," of ",t,a&&a[s-1]&&`: ${a[s-1]}`]})})]})},Me=y.memo(({instrument:s,customInstrument:t,onInstrumentChange:a,onCustomInstrumentChange:i})=>e.jsxs("div",{className:"form-step",children:[e.jsx("h2",{children:"What's your primary instrument?"}),e.jsx("div",{className:"instrument-grid",children:xe.map(r=>e.jsx("button",{className:`instrument-option ${s===r?"selected":""}`,onClick:()=>a(r),type:"button","aria-pressed":s===r,children:r},r))}),t.isOther&&e.jsx("input",{type:"text",className:"other-instrument-input",placeholder:"Please specify your instrument",value:t.value,onChange:r=>i(r.target.value),"aria-label":"Custom instrument name",autoFocus:!0})]})),Ie=y.memo(({performanceFrequency:s,onPerformanceFrequencyChange:t})=>e.jsxs("div",{className:"form-step",children:[e.jsx("h2",{children:"How often do you perform live?"}),e.jsxs("div",{className:"radio-group",role:"radiogroup","aria-labelledby":"performance-frequency-title",children:[e.jsxs("label",{className:"radio-option",children:[e.jsx("input",{type:"radio",name:"frequency",value:"never",checked:s==="never",onChange:a=>t(a.target.value)}),e.jsx("span",{children:"Never / Just Practice"})]}),e.jsxs("label",{className:"radio-option",children:[e.jsx("input",{type:"radio",name:"frequency",value:"yearly",checked:s==="yearly",onChange:a=>t(a.target.value)}),e.jsx("span",{children:"A few times a year"})]}),e.jsxs("label",{className:"radio-option",children:[e.jsx("input",{type:"radio",name:"frequency",value:"monthly",checked:s==="monthly",onChange:a=>t(a.target.value)}),e.jsx("span",{children:"Monthly"})]}),e.jsxs("label",{className:"radio-option",children:[e.jsx("input",{type:"radio",name:"frequency",value:"weekly",checked:s==="weekly",onChange:a=>t(a.target.value)}),e.jsx("span",{children:"Weekly"})]}),e.jsxs("label",{className:"radio-option",children:[e.jsx("input",{type:"radio",name:"frequency",value:"multiple",checked:s==="multiple",onChange:a=>t(a.target.value)}),e.jsx("span",{children:"Multiple times a week"})]})]})]})),Ge=y.memo(({crowdSize:s,onCrowdSizeChange:t})=>e.jsxs("div",{className:"form-step",children:[e.jsx("h2",{children:"What's your average crowd size?"}),e.jsxs("div",{className:"radio-group",role:"radiogroup","aria-labelledby":"crowd-size-title",children:[e.jsxs("label",{className:"radio-option",children:[e.jsx("input",{type:"radio",name:"crowd",value:"1-10",checked:s==="1-10",onChange:a=>t(a.target.value)}),e.jsx("span",{children:"1-10 people"})]}),e.jsxs("label",{className:"radio-option",children:[e.jsx("input",{type:"radio",name:"crowd",value:"10-50",checked:s==="10-50",onChange:a=>t(a.target.value)}),e.jsx("span",{children:"10-50 people"})]}),e.jsxs("label",{className:"radio-option",children:[e.jsx("input",{type:"radio",name:"crowd",value:"50-100",checked:s==="50-100",onChange:a=>t(a.target.value)}),e.jsx("span",{children:"50-100 people"})]}),e.jsxs("label",{className:"radio-option",children:[e.jsx("input",{type:"radio",name:"crowd",value:"100-500",checked:s==="100-500",onChange:a=>t(a.target.value)}),e.jsx("span",{children:"100-500 people"})]}),e.jsxs("label",{className:"radio-option",children:[e.jsx("input",{type:"radio",name:"crowd",value:"500+",checked:s==="500+",onChange:a=>t(a.target.value)}),e.jsx("span",{children:"500+ people"})]})]})]})),Ve=y.memo(({yearsOfExperience:s,onYearsOfExperienceChange:t})=>e.jsxs("div",{className:"form-step",children:[e.jsx("h2",{children:"How many years have you been playing?"}),e.jsxs("div",{className:"experience-input",children:[e.jsx("input",{type:"number",min:O.MIN,max:O.MAX,value:s||"",onChange:a=>{const i=parseInt(a.target.value);!isNaN(i)&&i>=O.MIN&&i<=O.MAX&&t(i)},className:"years-input","aria-label":"Years of experience"}),e.jsx("span",{className:"years-label",children:"years"})]}),e.jsx("input",{type:"range",min:O.MIN,max:O.MAX,value:s||0,onChange:a=>t(parseInt(a.target.value)),className:"years-slider","aria-label":"Years of experience slider"})]})),$e=y.memo(({marketingEfforts:s,onMarketingChange:t})=>e.jsxs("div",{className:"form-step",children:[e.jsx("h2",{children:"What marketing efforts are you currently using?"}),e.jsx("p",{className:"step-subtitle",children:"Select all that apply"}),e.jsx("div",{className:"checkbox-group",role:"group","aria-labelledby":"marketing-efforts-title",children:ve.map(a=>e.jsxs("label",{className:"checkbox-option",children:[e.jsx("input",{type:"checkbox",checked:s.includes(a.id),onChange:()=>t(a.id),"aria-describedby":`marketing-${a.id}-desc`}),e.jsx("span",{id:`marketing-${a.id}-desc`,children:a.label})]},a.id))})]}));const Le={currentStep:1,formData:{instrument:"",performanceFrequency:void 0,crowdSize:void 0,yearsOfExperience:0,marketingEfforts:[]},customInstrument:{isOther:!1,value:""}};function qe(s,t){switch(t.type){case"NEXT_STEP":return{...s,currentStep:Math.min(s.currentStep+1,D.TOTAL)};case"PREV_STEP":return{...s,currentStep:Math.max(s.currentStep-1,1)};case"SET_INSTRUMENT":return t.payload==="Other"?{...s,customInstrument:{isOther:!0,value:""},formData:{...s.formData,instrument:""}}:{...s,customInstrument:{isOther:!1,value:""},formData:{...s.formData,instrument:t.payload}};case"SET_CUSTOM_INSTRUMENT":return{...s,customInstrument:{...s.customInstrument,value:t.payload},formData:{...s.formData,instrument:t.payload}};case"SET_PERFORMANCE_FREQUENCY":return{...s,formData:{...s.formData,performanceFrequency:t.payload}};case"SET_CROWD_SIZE":return{...s,formData:{...s.formData,crowdSize:t.payload}};case"SET_YEARS_OF_EXPERIENCE":return{...s,formData:{...s.formData,yearsOfExperience:t.payload}};case"TOGGLE_MARKETING_EFFORT":{const a=s.formData.marketingEfforts||[],i=a.includes(t.payload)?a.filter(r=>r!==t.payload):[...a,t.payload];return{...s,formData:{...s.formData,marketingEfforts:i}}}default:return s}}const se=()=>{const s=Re(),[t,a]=y.useReducer(qe,Le),{currentStep:i,formData:r,customInstrument:n}=t,c=y.useCallback(async()=>{const l=Oe({instrument:n.isOther?n.value:r.instrument,performanceFrequency:r.performanceFrequency,crowdSize:r.crowdSize,yearsOfExperience:r.yearsOfExperience,marketingEfforts:r.marketingEfforts});await s(l)},[n,r,s]),o=y.useCallback(()=>{var l;switch(i){case D.INSTRUMENT:return n.isOther?n.value.trim().length>0:!!r.instrument;case D.PERFORMANCE_FREQUENCY:return!!r.performanceFrequency;case D.CROWD_SIZE:return!!r.crowdSize;case D.EXPERIENCE:return typeof r.yearsOfExperience=="number"&&r.yearsOfExperience>=O.MIN&&r.yearsOfExperience<=O.MAX;case D.MARKETING_EFFORTS:return!!((l=r.marketingEfforts)!=null&&l.length);default:return!1}},[i,n,r]);return e.jsx("div",{className:"musician-form",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"form-container",children:[e.jsx(Fe,{currentStep:i,totalSteps:D.TOTAL,labels:[...fe]}),e.jsxs("div",{className:"form-content",children:[i===D.INSTRUMENT&&e.jsx(Me,{instrument:r.instrument,customInstrument:n,onInstrumentChange:l=>a({type:"SET_INSTRUMENT",payload:l}),onCustomInstrumentChange:l=>a({type:"SET_CUSTOM_INSTRUMENT",payload:l})}),i===D.PERFORMANCE_FREQUENCY&&e.jsx(Ie,{performanceFrequency:r.performanceFrequency,onPerformanceFrequencyChange:l=>a({type:"SET_PERFORMANCE_FREQUENCY",payload:l})}),i===D.CROWD_SIZE&&e.jsx(Ge,{crowdSize:r.crowdSize,onCrowdSizeChange:l=>a({type:"SET_CROWD_SIZE",payload:l})}),i===D.EXPERIENCE&&e.jsx(Ve,{yearsOfExperience:r.yearsOfExperience,onYearsOfExperienceChange:l=>a({type:"SET_YEARS_OF_EXPERIENCE",payload:l})}),i===D.MARKETING_EFFORTS&&e.jsx($e,{marketingEfforts:r.marketingEfforts,onMarketingChange:l=>a({type:"TOGGLE_MARKETING_EFFORT",payload:l})})]}),e.jsxs("div",{className:"form-navigation",children:[i>1&&e.jsx(F,{variant:"outline",onClick:()=>a({type:"PREV_STEP"}),type:"button",children:"Back"}),i<D.TOTAL?e.jsx(F,{variant:"primary",onClick:()=>a({type:"NEXT_STEP"}),disabled:!o(),type:"button",children:"Next"}):e.jsx(F,{variant:"secondary",onClick:c,disabled:!o(),type:"button",children:"Get My Advice"})]})]})})})};const Ue={marketing:"M",performance:"P",networking:"N",skill:"S"},We={marketing:"Marketing & Promotion",performance:"Performance & Gigging",networking:"Networking & Collaboration",skill:"Skill Development"},ze=y.memo(({recommendation:s})=>{const t=Ue[s.category],a=We[s.category];return e.jsxs("div",{className:`recommendation-card recommendation-card-${s.priority}`,children:[e.jsxs("div",{className:"recommendation-header",children:[e.jsx("div",{className:`recommendation-icon recommendation-icon-${s.category}`,"aria-label":a,title:a,children:t}),e.jsx("h3",{className:"recommendation-title",children:s.title})]}),e.jsx("p",{className:"recommendation-description",children:s.description}),e.jsx("div",{className:"recommendation-footer",children:e.jsxs("span",{className:`priority-badge priority-${s.priority}`,children:[s.priority," priority"]})})]})});const Be=({size:s="medium",message:t="Analyzing your profile..."})=>e.jsxs("div",{className:"loading-spinner-container",children:[e.jsxs("div",{className:`loading-spinner loading-spinner-${s}`,children:[e.jsx("div",{className:"spinner-circle"}),e.jsx("div",{className:"spinner-circle"}),e.jsx("div",{className:"spinner-circle"})]}),t&&e.jsx("p",{className:"loading-message",children:t})]});const Ye=()=>{const{state:s,dispatch:t}=C(),a=De(),i=Te(),r=y.useMemo(()=>s.recommendations,[s.recommendations]);me.useEffect(()=>{if(s.musicianProfile&&s.recommendations.length===0){const o=Q(s.musicianProfile);i(o)}},[s.musicianProfile,s.recommendations.length,i]);const n=y.useCallback(()=>{a()},[a]),c=y.useCallback(()=>{t({type:"SET_PAGE",payload:"dashboard"})},[t]);return s.isLoading?e.jsx("div",{className:"recommendations-page",children:e.jsx("div",{className:"container",children:e.jsx(Be,{size:"large",message:"Analyzing your profile..."})})}):e.jsx("div",{className:"recommendations-page",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"recommendations-header",children:[e.jsx("div",{className:"recommendations-nav",children:s.navigationContext==="dashboard"?e.jsx(F,{variant:"outline",onClick:c,className:"back-button",children:"← Back to Dashboard"}):e.jsx("div",{className:"onboarding-nav"})}),e.jsx("h1",{children:"Your Personalized Music Career Plan"}),e.jsx("p",{className:"recommendations-subtitle",children:"Based on your profile, here are our top recommendations to help you grow as a musician."})]}),e.jsx("div",{className:"recommendations-grid",children:r.map(o=>e.jsx(ze,{recommendation:o},o.id))}),e.jsx("div",{className:"recommendations-footer",children:e.jsx(F,{variant:"outline",onClick:n,size:"large",children:"Start Over"})})]})})},He="MusicianGrowthApp",Xe=1;class ie{constructor(){V(this,"db",null)}async init(){return new Promise((t,a)=>{const i=indexedDB.open(He,Xe);i.onerror=()=>{const r=new Error("Failed to open database");r.type="browser_unsupported",r.recoverable=!0,a(r)},i.onsuccess=()=>{this.db=i.result,t()},i.onupgradeneeded=r=>{const n=r.target.result;this.createStores(n)}})}createStores(t){if(t.objectStoreNames.contains("profiles")||t.createObjectStore("profiles",{keyPath:"id"}).createIndex("lastUpdated","lastUpdated"),!t.objectStoreNames.contains("performances")){const a=t.createObjectStore("performances",{keyPath:"id"});a.createIndex("profileId","profileId"),a.createIndex("date","date")}if(!t.objectStoreNames.contains("practice_sessions")){const a=t.createObjectStore("practice_sessions",{keyPath:"id"});a.createIndex("profileId","profileId"),a.createIndex("date","date")}if(!t.objectStoreNames.contains("goals")){const a=t.createObjectStore("goals",{keyPath:"id"});a.createIndex("profileId","profileId"),a.createIndex("status","status")}if(!t.objectStoreNames.contains("achievements")){const a=t.createObjectStore("achievements",{keyPath:"id"});a.createIndex("profileId","profileId"),a.createIndex("category","category")}if(!t.objectStoreNames.contains("notifications")){const a=t.createObjectStore("notifications",{keyPath:"id"});a.createIndex("profileId","profileId"),a.createIndex("createdAt","createdAt"),a.createIndex("isRead","isRead")}}ensureDb(){if(!this.db)throw new Error("Database not initialized. Call init() first.")}async saveProfile(t){return this.ensureDb(),new Promise((a,i)=>{const c=this.db.transaction(["profiles"],"readwrite").objectStore("profiles").put({...t,lastUpdated:new Date});c.onsuccess=()=>a(),c.onerror=()=>{const o=new Error("Failed to save profile");o.type="unknown",o.recoverable=!0,i(o)}})}async loadProfile(t){return this.ensureDb(),new Promise((a,i)=>{const c=this.db.transaction(["profiles"],"readonly").objectStore("profiles").get(t);c.onsuccess=()=>{const o=c.result;o?(o.createdAt=new Date(o.createdAt),o.lastUpdated=new Date(o.lastUpdated),a(o)):a(null)},c.onerror=()=>{const o=new Error("Failed to load profile");o.type="unknown",o.recoverable=!0,i(o)}})}async getAllProfiles(){return this.ensureDb(),new Promise((t,a)=>{const n=this.db.transaction(["profiles"],"readonly").objectStore("profiles").getAll();n.onsuccess=()=>{const c=n.result.map(o=>({...o,createdAt:new Date(o.createdAt),lastUpdated:new Date(o.lastUpdated)}));t(c)},n.onerror=()=>{const c=new Error("Failed to load profiles");c.type="unknown",c.recoverable=!0,a(c)}})}async deleteProfile(t){return this.ensureDb(),new Promise((a,i)=>{const c=this.db.transaction(["profiles"],"readwrite").objectStore("profiles").delete(t);c.onsuccess=()=>a(),c.onerror=()=>{const o=new Error("Failed to delete profile");o.type="unknown",o.recoverable=!0,i(o)}})}async addPerformance(t,a){return this.ensureDb(),new Promise((i,r)=>{const o=this.db.transaction(["performances"],"readwrite").objectStore("performances").add({...a,profileId:t,date:new Date(a.date)});o.onsuccess=()=>i(),o.onerror=()=>{const l=new Error("Failed to add performance");l.type="unknown",l.recoverable=!0,r(l)}})}async addPracticeSession(t,a){return this.ensureDb(),new Promise((i,r)=>{const o=this.db.transaction(["practice_sessions"],"readwrite").objectStore("practice_sessions").add({...a,profileId:t,date:new Date(a.date)});o.onsuccess=()=>i(),o.onerror=()=>{const l=new Error("Failed to add practice session");l.type="unknown",l.recoverable=!0,r(l)}})}async getPerformances(t){return this.ensureDb(),new Promise((a,i)=>{const o=this.db.transaction(["performances"],"readonly").objectStore("performances").index("profileId").getAll(t);o.onsuccess=()=>{const l=o.result.map(u=>({...u,date:new Date(u.date)}));a(l)},o.onerror=()=>{const l=new Error("Failed to load performances");l.type="unknown",l.recoverable=!0,i(l)}})}async getPracticeSessions(t){return this.ensureDb(),new Promise((a,i)=>{const o=this.db.transaction(["practice_sessions"],"readonly").objectStore("practice_sessions").index("profileId").getAll(t);o.onsuccess=()=>{const l=o.result.map(u=>({...u,date:new Date(u.date)}));a(l)},o.onerror=()=>{const l=new Error("Failed to load practice sessions");l.type="unknown",l.recoverable=!0,i(l)}})}async saveGoal(t,a){return this.ensureDb(),new Promise((i,r)=>{const o=this.db.transaction(["goals"],"readwrite").objectStore("goals").put({...a,profileId:t,createdAt:new Date(a.createdAt),deadline:a.deadline?new Date(a.deadline):void 0});o.onsuccess=()=>i(),o.onerror=()=>{const l=new Error("Failed to save goal");l.type="unknown",l.recoverable=!0,r(l)}})}async getGoals(t){return this.ensureDb(),new Promise((a,i)=>{const o=this.db.transaction(["goals"],"readonly").objectStore("goals").index("profileId").getAll(t);o.onsuccess=()=>{const l=o.result.map(u=>({...u,createdAt:new Date(u.createdAt),deadline:u.deadline?new Date(u.deadline):void 0}));a(l)},o.onerror=()=>{const l=new Error("Failed to load goals");l.type="unknown",l.recoverable=!0,i(l)}})}async updateGoalProgress(t,a,i){return this.ensureDb(),new Promise((r,n)=>{const o=this.db.transaction(["goals"],"readwrite").objectStore("goals"),l=o.get(a);l.onsuccess=()=>{const u=l.result;if(u&&u.profileId===t){u.currentValue=i,u.targetValue&&i>=u.targetValue&&(u.status="completed");const h=o.put(u);h.onsuccess=()=>r(),h.onerror=()=>{const p=new Error("Failed to update goal progress");p.type="unknown",p.recoverable=!0,n(p)}}else n(new Error("Goal not found or access denied"))},l.onerror=()=>{const u=new Error("Failed to load goal for update");u.type="unknown",u.recoverable=!0,n(u)}})}async addAchievement(t,a){return this.ensureDb(),new Promise((i,r)=>{const o=this.db.transaction(["achievements"],"readwrite").objectStore("achievements").add({...a,profileId:t,unlockedAt:a.unlockedAt?new Date(a.unlockedAt):void 0});o.onsuccess=()=>i(),o.onerror=()=>{const l=new Error("Failed to add achievement");l.type="unknown",l.recoverable=!0,r(l)}})}async bulkAddActivities(t,a){return this.ensureDb(),new Promise((i,r)=>{const n=this.db.transaction(["performances","practice_sessions"],"readwrite"),c=n.objectStore("performances"),o=n.objectStore("practice_sessions");let l=0;const u=a.length,h=()=>{l++,l===u&&i()};a.forEach(p=>{const d={...p,profileId:t,date:new Date(p.date)};let S;"venueName"in p?S=c.add(d):S=o.add(d),S.onsuccess=h,S.onerror=()=>{const j=new Error("Failed to add activity in bulk operation");j.type="unknown",j.recoverable=!0,r(j)}})})}async saveAchievement(t,a){return this.ensureDb(),new Promise((i,r)=>{const o=this.db.transaction(["achievements"],"readwrite").objectStore("achievements").put({...a,profileId:t,id:`${t}_${a.id}`});o.onsuccess=()=>i(),o.onerror=()=>{const l=new Error("Failed to save achievement");l.type="unknown",l.recoverable=!0,r(l)}})}async getAchievements(t){return this.ensureDb(),new Promise((a,i)=>{const o=this.db.transaction(["achievements"],"readonly").objectStore("achievements").index("profileId").getAll(t);o.onsuccess=()=>{const l=o.result.map(u=>({...u,id:u.id.replace(`${t}_`,""),unlockedAt:u.unlockedAt?new Date(u.unlockedAt):void 0}));a(l)},o.onerror=()=>{const l=new Error("Failed to load achievements");l.type="unknown",l.recoverable=!0,i(l)}})}async saveNotification(t,a){return this.ensureDb(),new Promise((i,r)=>{const o=this.db.transaction(["notifications"],"readwrite").objectStore("notifications").put({...a,profileId:t,id:`${t}_${a.id}`});o.onsuccess=()=>i(),o.onerror=()=>{const l=new Error("Failed to save notification");l.type="unknown",l.recoverable=!0,r(l)}})}async getNotifications(t){return this.ensureDb(),new Promise((a,i)=>{const o=this.db.transaction(["notifications"],"readonly").objectStore("notifications").index("profileId").getAll(t);o.onsuccess=()=>{const l=o.result.map(u=>({...u,id:u.id.replace(`${t}_`,""),createdAt:new Date(u.createdAt)})).sort((u,h)=>h.createdAt.getTime()-u.createdAt.getTime());a(l)},o.onerror=()=>{const l=new Error("Failed to load notifications");l.type="unknown",l.recoverable=!0,i(l)}})}async markNotificationAsRead(t,a){return this.ensureDb(),new Promise((i,r)=>{const c=this.db.transaction(["notifications"],"readwrite").objectStore("notifications"),o=c.get(`${t}_${a}`);o.onsuccess=()=>{const l=o.result;if(l){l.isRead=!0;const u=c.put(l);u.onsuccess=()=>i(),u.onerror=()=>{const h=new Error("Failed to mark notification as read");h.type="unknown",h.recoverable=!0,r(h)}}else i()},o.onerror=()=>{const l=new Error("Failed to find notification");l.type="unknown",l.recoverable=!0,r(l)}})}}const A=new ie,Ke=Object.freeze(Object.defineProperty({__proto__:null,StorageService:ie,storageService:A},Symbol.toStringTag,{value:"Module"})),Qe=({metrics:s})=>{const t=[{title:"Total Shows",value:s.totalShows.toString(),icon:"🎤",color:"primary"},{title:"Practice Time",value:$(s.totalPracticeTime),icon:"⏰",color:"success"},{title:"Avg Payment",value:s.averagePayment>0?W(s.averagePayment):"$0",icon:"💰",color:"warning"},{title:"Goals Completed",value:s.goalsCompleted.toString(),icon:"🎯",color:"info"}];return e.jsxs("div",{className:"dashboard-metrics",children:[e.jsx("h3",{children:"Your Stats"}),e.jsx("div",{className:"metrics-grid",children:t.map((a,i)=>e.jsxs("div",{className:`metric-card metric-${a.color}`,children:[e.jsx("div",{className:"metric-icon",children:a.icon}),e.jsxs("div",{className:"metric-content",children:[e.jsx("div",{className:"metric-value",children:a.value}),e.jsx("div",{className:"metric-title",children:a.title})]})]},i))})]})},Ze=({performances:s,practices:t})=>{const[a,i]=y.useState("performances"),r=()=>s.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("p",{children:"No recent performances"}),e.jsx("small",{children:"Add your first show to track your progress!"})]}):e.jsx("div",{className:"activities-list",children:s.map(c=>e.jsxs("div",{className:"activity-item",children:[e.jsx("div",{className:"activity-icon",children:"🎤"}),e.jsxs("div",{className:"activity-content",children:[e.jsx("div",{className:"activity-title",children:c.venueName}),e.jsxs("div",{className:"activity-details",children:[e.jsx("span",{children:_(c.date)}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[c.audienceSize," people"]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:W(c.payment)})]})]})]},c.id))}),n=()=>t.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("p",{children:"No recent practice sessions"}),e.jsx("small",{children:"Log your practice to track improvement!"})]}):e.jsx("div",{className:"activities-list",children:t.map(c=>e.jsxs("div",{className:"activity-item",children:[e.jsx("div",{className:"activity-icon",children:"🎵"}),e.jsxs("div",{className:"activity-content",children:[e.jsx("div",{className:"activity-title",children:"Practice Session"}),e.jsxs("div",{className:"activity-details",children:[e.jsx("span",{children:_(c.date)}),e.jsx("span",{children:"•"}),e.jsx("span",{children:$(c.duration)}),c.focusAreas.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsx("span",{children:c.focusAreas.join(", ")})]})]})]})]},c.id))});return e.jsxs("div",{className:"recent-activities",children:[e.jsxs("div",{className:"activities-header",children:[e.jsx("h3",{children:"Recent Activities"}),e.jsxs("div",{className:"activities-tabs",children:[e.jsx("button",{className:`tab-button ${a==="performances"?"active":""}`,onClick:()=>i("performances"),children:"Shows"}),e.jsx("button",{className:`tab-button ${a==="practice"?"active":""}`,onClick:()=>i("practice"),children:"Practice"})]})]}),e.jsx("div",{className:"activities-content",children:a==="performances"?r():n()})]})},Je=({goals:s,onGoalClick:t})=>{const a=n=>!n.targetValue||n.targetValue===0?0:Math.min(n.currentValue/n.targetValue*100,100),i=n=>n.deadline?L(n.deadline,7)?"urgent":L(n.deadline,30)?"soon":"normal":"normal",r=n=>{switch(n){case"performance":return"🎤";case"skill":return"🎯";case"financial":return"💰";case"recording":return"🎵";case"custom":return"⭐";default:return"📋"}};return s.length===0?e.jsxs("div",{className:"goal-progress",children:[e.jsxs("div",{className:"goal-progress-header",children:[e.jsx("h3",{children:"Active Goals"}),e.jsx("button",{className:"btn btn-outline-primary btn-sm",onClick:t,children:"Create Goal"})]}),e.jsxs("div",{className:"empty-state",children:[e.jsx("p",{children:"No active goals"}),e.jsx("small",{children:"Set goals to track your musical progress!"})]})]}):e.jsxs("div",{className:"goal-progress",children:[e.jsxs("div",{className:"goal-progress-header",children:[e.jsx("h3",{children:"Active Goals"}),e.jsx("button",{className:"btn btn-outline-primary btn-sm",onClick:t,children:"Manage Goals"})]}),e.jsx("div",{className:"goals-list",children:s.slice(0,3).map(n=>{const c=a(n),o=i(n);return e.jsxs("div",{className:`goal-item goal-${o}`,onClick:t,children:[e.jsx("div",{className:"goal-icon",children:r(n.type)}),e.jsxs("div",{className:"goal-content",children:[e.jsx("div",{className:"goal-title",children:n.title}),e.jsx("div",{className:"goal-progress-bar",children:e.jsx("div",{className:"goal-progress-fill",style:{width:`${c}%`}})}),e.jsxs("div",{className:"goal-details",children:[e.jsxs("span",{children:[n.currentValue," / ",n.targetValue||"∞"]}),n.deadline&&e.jsxs("span",{className:"goal-deadline",children:["Due: ",_(n.deadline)]})]})]})]},n.id)})}),s.length>3&&e.jsx("div",{className:"goals-summary",children:e.jsxs("button",{className:"btn btn-link",onClick:t,children:["View all ",s.length," goals"]})})]})},es=({onAction:s})=>{const t=[{id:"add-show",title:"Add Show",description:"Log a recent performance",icon:"🎤",color:"primary"},{id:"log-practice",title:"Log Practice",description:"Record a practice session",icon:"🎵",color:"success"},{id:"create-goal",title:"Create Goal",description:"Set a new goal",icon:"🎯",color:"info"},{id:"bulk-entry",title:"Bulk Entry",description:"Add multiple activities",icon:"📝",color:"secondary"},{id:"view-recommendations",title:"Get Advice",description:"View updated recommendations",icon:"💡",color:"warning"}];return e.jsxs("div",{className:"quick-actions",children:[e.jsx("h3",{children:"Quick Actions"}),e.jsx("div",{className:"actions-grid",children:t.map(a=>e.jsxs("button",{className:`action-card action-${a.color}`,onClick:()=>s(a.id),children:[e.jsx("div",{className:"action-icon",children:a.icon}),e.jsxs("div",{className:"action-content",children:[e.jsx("div",{className:"action-title",children:a.title}),e.jsx("div",{className:"action-description",children:a.description})]})]},a.id))})]})};const B=({data:s,title:t,type:a="bar",height:i=200,showValues:r=!1})=>{if(!s||s.length===0)return e.jsxs("div",{className:"simple-chart empty",children:[e.jsx("h4",{children:t}),e.jsx("p",{children:"No data available"})]});const n=Math.max(...s.map(o=>o.value)),c=i-60;return e.jsxs("div",{className:"simple-chart",children:[e.jsx("h4",{className:"chart-title",children:t}),e.jsx("div",{className:"chart-container",style:{height:`${i}px`},children:e.jsx("div",{className:"chart-content",style:{height:`${c}px`},children:a==="bar"?e.jsx("div",{className:"bar-chart",children:s.map((o,l)=>e.jsxs("div",{className:"bar-item",children:[e.jsx("div",{className:"bar",style:{height:`${o.value/n*c}px`,backgroundColor:o.color||"#007bff"},children:r&&e.jsx("span",{className:"bar-value",children:o.value})}),e.jsx("span",{className:"bar-label",children:o.label})]},l))}):e.jsxs("div",{className:"line-chart",children:[e.jsx("svg",{width:"100%",height:"100%",children:s.map((o,l)=>{var p;const u=l/(s.length-1)*100,h=100-o.value/n*100;return e.jsxs("g",{children:[l>0&&e.jsx("line",{x1:`${(l-1)/(s.length-1)*100}%`,y1:`${100-(((p=s[l-1])==null?void 0:p.value)||0)/n*100}%`,x2:`${u}%`,y2:`${h}%`,stroke:"#007bff",strokeWidth:"2"}),e.jsx("circle",{cx:`${u}%`,cy:`${h}%`,r:"4",fill:"#007bff"}),r&&e.jsx("text",{x:`${u}%`,y:`${h-5}%`,textAnchor:"middle",fontSize:"12",fill:"#333",children:o.value})]},l)})}),e.jsx("div",{className:"line-labels",children:s.map((o,l)=>e.jsx("span",{className:"line-label",children:o.label},l))})]})})})]})},X=({value:s,maxValue:t,label:a,color:i="#007bff",size:r=120,strokeWidth:n=8})=>{const c=(r-n)/2,o=2*Math.PI*c,l=Math.min(s/t,1),u=o-l*o,h=Math.round(s/t*100);return e.jsxs("div",{className:"progress-ring",style:{"--progress-ring-size":`${r}px`,width:r,height:r,maxWidth:"100%",maxHeight:"100%",boxSizing:"border-box",overflow:"hidden"},children:[e.jsxs("svg",{className:"progress-ring-svg",width:r,height:r,style:{display:"block",maxWidth:`${r}px`,maxHeight:`${r}px`},children:[e.jsx("circle",{className:"progress-ring-background",cx:r/2,cy:r/2,r:c,strokeWidth:n}),e.jsx("circle",{className:"progress-ring-progress",cx:r/2,cy:r/2,r:c,strokeWidth:n,stroke:i,strokeDasharray:o,strokeDashoffset:u})]}),e.jsxs("div",{className:"progress-ring-text",children:[e.jsxs("p",{className:"progress-ring-value",children:[h,"%"]}),e.jsx("p",{className:"progress-ring-label",children:a})]})]})};const ss=({performances:s,practices:t,goals:a})=>{const[i,r]=y.useState("month"),n=y.useMemo(()=>{const u=new Date,h=i==="week"?7:i==="month"?30:90,p=new Date(u.getTime()-h*24*60*60*1e3),d=s.filter(f=>f.date>=p),S=t.filter(f=>f.date>=p),j=T.groupActivitiesByWeek(S),w=Object.entries(j).map(([f,N])=>({label:`Week ${f}`,value:N.reduce((b,P)=>b+P.duration,0),color:"#28a745"})),g=T.groupActivitiesByWeek(d),x=Object.entries(g).map(([f,N])=>({label:`Week ${f}`,value:N.reduce((b,P)=>b+P.payment,0),color:"#007bff"})),m=d.reduce((f,N)=>(f[N.venueType]=(f[N.venueType]||0)+1,f),{}),v=Object.entries(m).map(([f,N])=>({label:f.replace("_"," ").toUpperCase(),value:N,color:["#007bff","#28a745","#ffc107","#dc3545","#6c757d"][Math.floor(Math.random()*5)]})),k=S.reduce((f,N)=>(N.focusAreas.forEach(b=>{f[b]=(f[b]||0)+1}),f),{}),E=Object.entries(k).sort(([,f],[,N])=>N-f).slice(0,5).map(([f,N])=>({label:f,value:N,color:"#17a2b8"}));return{practiceTimeData:w,earningsData:x,venueTypeData:v,focusAreaData:E}},[s,t,i]),c=y.useMemo(()=>{const u=a.filter(p=>p.status==="active"),h=a.filter(p=>p.status==="completed");return{activeGoals:u.length,completedGoals:h.length,totalGoals:a.length,completionRate:a.length>0?h.length/a.length:0}},[a]),o=y.useMemo(()=>{const u=T.calculateTotalPracticeTime(t),h=t.length>0?u/t.length:0;return{totalTime:u,averageSession:h,sessionsCount:t.length}},[t]),l=y.useMemo(()=>{const u=s.reduce((d,S)=>d+S.payment,0),h=T.calculateAverageShowPayment(s),p=s.length>0?s.reduce((d,S)=>d+S.audienceSize,0)/s.length:0;return{totalEarnings:u,averagePayment:h,averageAudience:p,showsCount:s.length}},[s]);return e.jsxs("div",{className:"dashboard-charts",children:[e.jsxs("div",{className:"charts-header",children:[e.jsx("h3",{children:"Analytics Overview"}),e.jsxs("div",{className:"period-selector",children:[e.jsx("button",{className:i==="week"?"active":"",onClick:()=>r("week"),children:"Week"}),e.jsx("button",{className:i==="month"?"active":"",onClick:()=>r("month"),children:"Month"}),e.jsx("button",{className:i==="quarter"?"active":"",onClick:()=>r("quarter"),children:"Quarter"})]})]}),e.jsxs("div",{className:"charts-grid",children:[e.jsx("div",{className:"chart-section",children:e.jsx(B,{data:n.practiceTimeData,title:"Practice Time Trend (minutes)",type:"line",height:200,showValues:!0})}),e.jsx("div",{className:"chart-section",children:e.jsx(B,{data:n.earningsData,title:"Performance Earnings ($)",type:"bar",height:200,showValues:!0})}),e.jsx("div",{className:"chart-section",children:e.jsx(B,{data:n.venueTypeData,title:"Venue Types",type:"bar",height:200,showValues:!0})}),e.jsx("div",{className:"chart-section",children:e.jsx(B,{data:n.focusAreaData,title:"Most Practiced Areas",type:"bar",height:200,showValues:!0})})]}),e.jsxs("div",{className:"progress-rings",children:[e.jsxs("div",{className:"progress-section",children:[e.jsx("h4",{children:"Goal Progress"}),e.jsxs("div",{className:"rings-container",children:[e.jsx(X,{value:c.completedGoals,maxValue:c.totalGoals,label:"Goals Completed",color:"#28a745"}),e.jsxs("div",{className:"progress-stats",children:[e.jsxs("p",{children:[e.jsx("strong",{children:c.completedGoals})," completed"]}),e.jsxs("p",{children:[e.jsx("strong",{children:c.activeGoals})," active"]}),e.jsxs("p",{children:[e.jsx("strong",{children:c.totalGoals})," total"]})]})]})]}),e.jsxs("div",{className:"progress-section",children:[e.jsx("h4",{children:"Practice Summary"}),e.jsxs("div",{className:"rings-container",children:[e.jsx(X,{value:o.totalTime,maxValue:Math.max(o.totalTime,1e3),label:"Total Hours",color:"#17a2b8"}),e.jsxs("div",{className:"progress-stats",children:[e.jsxs("p",{children:[e.jsxs("strong",{children:[Math.round(o.totalTime/60),"h"]})," total"]}),e.jsxs("p",{children:[e.jsx("strong",{children:Math.round(o.averageSession)})," avg session"]}),e.jsxs("p",{children:[e.jsx("strong",{children:o.sessionsCount})," sessions"]})]})]})]}),e.jsxs("div",{className:"progress-section",children:[e.jsx("h4",{children:"Performance Summary"}),e.jsxs("div",{className:"rings-container",children:[e.jsx(X,{value:l.totalEarnings,maxValue:Math.max(l.totalEarnings,1e3),label:"Total Earnings",color:"#ffc107"}),e.jsxs("div",{className:"progress-stats",children:[e.jsxs("p",{children:[e.jsxs("strong",{children:["$",l.totalEarnings]})," total"]}),e.jsxs("p",{children:[e.jsxs("strong",{children:["$",Math.round(l.averagePayment)]})," avg show"]}),e.jsxs("p",{children:[e.jsx("strong",{children:Math.round(l.averageAudience)})," avg audience"]})]})]})]})]})]})},ts=[{id:"first_show",title:"Stage Debut",description:"Perform your first show",category:"performance",type:"bronze",icon:"🎤",requirement:1,isUnlocked:!1},{id:"ten_shows",title:"Regular Performer",description:"Complete 10 performances",category:"performance",type:"silver",icon:"🎭",requirement:10,isUnlocked:!1},{id:"fifty_shows",title:"Seasoned Pro",description:"Complete 50 performances",category:"performance",type:"gold",icon:"🌟",requirement:50,isUnlocked:!1},{id:"hundred_shows",title:"Performance Legend",description:"Complete 100 performances",category:"performance",type:"platinum",icon:"👑",requirement:100,isUnlocked:!1},{id:"first_practice",title:"Practice Makes Perfect",description:"Log your first practice session",category:"practice",type:"bronze",icon:"🎵",requirement:1,isUnlocked:!1},{id:"ten_hours",title:"Dedicated Student",description:"Practice for 10 hours total",category:"practice",type:"bronze",icon:"📚",requirement:600,isUnlocked:!1},{id:"hundred_hours",title:"Serious Musician",description:"Practice for 100 hours total",category:"practice",type:"silver",icon:"🎯",requirement:6e3,isUnlocked:!1},{id:"thousand_hours",title:"Master Craftsman",description:"Practice for 1,000 hours total",category:"practice",type:"gold",icon:"🏆",requirement:6e4,isUnlocked:!1},{id:"first_goal",title:"Goal Setter",description:"Create your first goal",category:"goal",type:"bronze",icon:"🎯",requirement:1,isUnlocked:!1},{id:"goal_achiever",title:"Goal Achiever",description:"Complete your first goal",category:"goal",type:"silver",icon:"✅",requirement:1,isUnlocked:!1},{id:"goal_crusher",title:"Goal Crusher",description:"Complete 5 goals",category:"goal",type:"gold",icon:"💪",requirement:5,isUnlocked:!1},{id:"earning_milestone",title:"First Earnings",description:"Earn your first $100 from performances",category:"milestone",type:"bronze",icon:"💵",requirement:100,isUnlocked:!1},{id:"big_crowd",title:"Crowd Pleaser",description:"Perform for an audience of 100+ people",category:"milestone",type:"silver",icon:"👥",requirement:100,isUnlocked:!1},{id:"consistent_practice",title:"Daily Devotion",description:"Practice for 7 consecutive days",category:"practice",type:"silver",icon:"🔥",requirement:7,isUnlocked:!1}];class as{constructor(){V(this,"achievements",[...ts])}async checkAchievements(t,a,i,r){const n=[],c=await A.getAchievements(t),o=new Map(c.map(l=>[l.id,l]));for(const l of this.achievements){const u=o.get(l.id);if(u!=null&&u.isUnlocked)continue;const h=this.calculateProgress(l,a,i,r);if(h>=l.requirement&&!(u!=null&&u.isUnlocked)){const p={...l,isUnlocked:!0,unlockedAt:new Date,progress:h};n.push(p),await this.createNotification(t,{type:"achievement",title:"Achievement Unlocked!",message:`You've earned "${l.title}" - ${l.description}`,achievementId:l.id,icon:l.icon}),await A.saveAchievement(t,p)}else if(u){const p={...u,progress:h};await A.saveAchievement(t,p)}}return n}calculateProgress(t,a,i,r){switch(t.id){case"first_show":case"ten_shows":case"fifty_shows":case"hundred_shows":return a.length;case"first_practice":return i.length>0?1:0;case"ten_hours":case"hundred_hours":case"thousand_hours":return i.reduce((n,c)=>n+c.duration,0);case"first_goal":return r.length>0?1:0;case"goal_achiever":case"goal_crusher":return r.filter(n=>n.status==="completed").length;case"earning_milestone":return a.reduce((n,c)=>n+c.payment,0);case"big_crowd":return Math.max(...a.map(n=>n.audienceSize),0);case"consistent_practice":return this.calculateConsecutivePracticeDays(i);default:return 0}}calculateConsecutivePracticeDays(t){if(t.length===0)return 0;const a=t.map(n=>n.date.toDateString()).filter((n,c,o)=>o.indexOf(n)===c).sort();let i=1,r=1;for(let n=1;n<a.length;n++){const c=new Date(a[n]),o=new Date(a[n-1]);(c.getTime()-o.getTime())/(1e3*60*60*24)===1?(r++,i=Math.max(i,r)):r=1}return i}async createNotification(t,a){const i={id:R(),createdAt:new Date,isRead:!1,...a};await A.saveNotification(t,i)}async getNotifications(t){return await A.getNotifications(t)}async markNotificationAsRead(t,a){await A.markNotificationAsRead(t,a)}async getAchievementProgress(t){const a=await A.getAchievements(t);return this.achievements.map(i=>{const r=a.find(n=>n.id===i.id);return{achievementId:i.id,currentValue:(r==null?void 0:r.progress)||0,targetValue:i.requirement,isUnlocked:(r==null?void 0:r.isUnlocked)||!1}})}async getAllAchievements(t){const a=await A.getAchievements(t),i=new Map(a.map(r=>[r.id,r]));return this.achievements.map(r=>{const n=i.get(r.id);return{...r,isUnlocked:(n==null?void 0:n.isUnlocked)||!1,unlockedAt:n==null?void 0:n.unlockedAt,progress:(n==null?void 0:n.progress)||0}})}}const Y=new as;const rs=({profileId:s})=>{const[t,a]=y.useState([]),[i,r]=y.useState(!1),[n,c]=y.useState(!1);y.useEffect(()=>{o()},[s]);const o=async()=>{try{c(!0);const d=await Y.getNotifications(s);a(d)}catch(d){console.error("Error loading notifications:",d)}finally{c(!1)}},l=async d=>{try{await Y.markNotificationAsRead(s,d),a(S=>S.map(j=>j.id===d?{...j,isRead:!0}:j))}catch(S){console.error("Error marking notification as read:",S)}},u=t.filter(d=>!d.isRead).length,h=d=>{const j=Math.floor((new Date().getTime()-d.getTime())/1e3);return j<60?"Just now":j<3600?`${Math.floor(j/60)}m ago`:j<86400?`${Math.floor(j/3600)}h ago`:j<604800?`${Math.floor(j/86400)}d ago`:d.toLocaleDateString()},p=d=>{if(d.icon)return d.icon;switch(d.type){case"achievement":return"🏆";case"goal_completed":return"✅";case"milestone":return"🎯";case"reminder":return"⏰";default:return"📢"}};return e.jsxs("div",{className:"notification-center",children:[e.jsxs("button",{className:"notification-button",onClick:()=>r(!i),"aria-label":`Notifications ${u>0?`(${u} unread)`:""}`,children:[e.jsx("span",{className:"notification-icon",children:"🔔"}),u>0&&e.jsx("span",{className:"notification-badge",children:u})]}),i&&e.jsxs("div",{className:"notification-dropdown",children:[e.jsxs("div",{className:"notification-header",children:[e.jsx("h3",{children:"Notifications"}),e.jsx("button",{className:"close-button",onClick:()=>r(!1),"aria-label":"Close notifications",children:"✕"})]}),e.jsx("div",{className:"notification-list",children:n?e.jsxs("div",{className:"notification-loading",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading notifications..."})]}):t.length===0?e.jsxs("div",{className:"notification-empty",children:[e.jsx("p",{children:"No notifications yet"}),e.jsx("small",{children:"You'll see achievements and milestones here"})]}):t.map(d=>e.jsxs("div",{className:`notification-item ${d.isRead?"read":"unread"}`,onClick:()=>!d.isRead&&l(d.id),children:[e.jsx("div",{className:"notification-icon-container",children:e.jsx("span",{className:"notification-type-icon",children:p(d)})}),e.jsxs("div",{className:"notification-content",children:[e.jsx("div",{className:"notification-title",children:d.title}),e.jsx("div",{className:"notification-message",children:d.message}),e.jsx("div",{className:"notification-time",children:h(d.createdAt)})]}),!d.isRead&&e.jsx("div",{className:"notification-unread-indicator"})]},d.id))}),t.length>0&&e.jsx("div",{className:"notification-footer",children:e.jsx("button",{className:"clear-all-button",onClick:()=>{t.forEach(d=>{d.isRead||l(d.id)})},disabled:u===0,children:"Mark all as read"})})]})]})};const ns=({profileId:s,showProgress:t=!0})=>{const[a,i]=y.useState([]),[r,n]=y.useState(!0),[c,o]=y.useState("all");y.useEffect(()=>{l()},[s]);const l=async()=>{try{n(!0);const g=await Y.getAllAchievements(s);i(g)}catch(g){console.error("Error loading achievements:",g)}finally{n(!1)}},u=[{id:"all",name:"All",icon:"🏆"},{id:"performance",name:"Performance",icon:"🎤"},{id:"practice",name:"Practice",icon:"🎵"},{id:"goal",name:"Goals",icon:"🎯"},{id:"milestone",name:"Milestones",icon:"⭐"}],h=a.filter(g=>c==="all"||g.category===c),p=h.filter(g=>g.isUnlocked),d=h.filter(g=>!g.isUnlocked),S=g=>{switch(g){case"bronze":return"#CD7F32";case"silver":return"#C0C0C0";case"gold":return"#FFD700";case"platinum":return"#E5E4E2";default:return"#6c757d"}},j=g=>g.isUnlocked?100:Math.min((g.progress||0)/g.requirement*100,100),w=g=>{const x=g.progress||0,m=g.requirement;return g.id.includes("hours")||g.id.includes("practice")?m>=1e3?`${Math.round(x/60)}h / ${Math.round(m/60)}h`:`${x}min / ${m}min`:g.id.includes("earning")?`$${x} / $${m}`:`${x} / ${m}`};return r?e.jsxs("div",{className:"achievement-display loading",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading achievements..."})]}):e.jsxs("div",{className:"achievement-display",children:[e.jsxs("div",{className:"achievement-header",children:[e.jsx("h3",{children:"Achievements"}),e.jsx("div",{className:"achievement-stats",children:e.jsxs("span",{className:"stat",children:[e.jsx("strong",{children:p.length})," / ",a.length," unlocked"]})})]}),e.jsx("div",{className:"achievement-categories",children:u.map(g=>e.jsxs("button",{className:`category-button ${c===g.id?"active":""}`,onClick:()=>o(g.id),children:[e.jsx("span",{className:"category-icon",children:g.icon}),e.jsx("span",{className:"category-name",children:g.name})]},g.id))}),e.jsxs("div",{className:"achievement-grid",children:[p.map(g=>e.jsxs("div",{className:"achievement-card unlocked",children:[e.jsx("div",{className:"achievement-icon",children:g.icon}),e.jsxs("div",{className:"achievement-info",children:[e.jsx("h4",{className:"achievement-title",children:g.title}),e.jsx("p",{className:"achievement-description",children:g.description}),e.jsxs("div",{className:"achievement-meta",children:[e.jsx("span",{className:"achievement-type",style:{color:S(g.type)},children:g.type.toUpperCase()}),g.unlockedAt&&e.jsxs("span",{className:"achievement-date",children:["Unlocked ",g.unlockedAt.toLocaleDateString()]})]})]}),e.jsx("div",{className:"achievement-status unlocked-status",children:e.jsx("span",{className:"checkmark",children:"✓"})})]},g.id)),d.map(g=>e.jsxs("div",{className:"achievement-card locked",children:[e.jsx("div",{className:"achievement-icon dimmed",children:g.icon}),e.jsxs("div",{className:"achievement-info",children:[e.jsx("h4",{className:"achievement-title",children:g.title}),e.jsx("p",{className:"achievement-description",children:g.description}),e.jsxs("div",{className:"achievement-meta",children:[e.jsx("span",{className:"achievement-type",style:{color:S(g.type)},children:g.type.toUpperCase()}),t&&e.jsx("span",{className:"achievement-progress",children:w(g)})]})]}),t&&e.jsx("div",{className:"achievement-progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:`${j(g)}%`}})})]},g.id))]}),h.length===0&&e.jsxs("div",{className:"achievement-empty",children:[e.jsx("p",{children:"No achievements in this category yet"}),e.jsx("small",{children:"Keep tracking your activities to unlock achievements!"})]})]})};const is=({profile:s,onComplete:t})=>{const[a,i]=y.useState(0),[r,n]=y.useState(!0),c=[{id:"welcome",title:"Welcome to Musician Growth App!",description:"Let's get you started on your musical journey",content:e.jsxs("div",{className:"onboarding-content",children:[e.jsx("div",{className:"welcome-icon",children:"🎵"}),e.jsxs("h2",{children:["Welcome, ",s.name,"!"]}),e.jsx("p",{children:"You're now part of a community of musicians who are serious about growth. This app will help you track your progress, set goals, and get personalized recommendations to advance your musical career."}),e.jsxs("div",{className:"feature-highlights",children:[e.jsxs("div",{className:"feature",children:[e.jsx("span",{className:"feature-icon",children:"🎤"}),e.jsx("span",{children:"Track Performances"})]}),e.jsxs("div",{className:"feature",children:[e.jsx("span",{className:"feature-icon",children:"🎯"}),e.jsx("span",{children:"Set & Achieve Goals"})]}),e.jsxs("div",{className:"feature",children:[e.jsx("span",{className:"feature-icon",children:"📊"}),e.jsx("span",{children:"Monitor Progress"})]})]})]})},{id:"dashboard",title:"Your Dashboard",description:"Your central hub for all musical activities",content:e.jsx("div",{className:"onboarding-content",children:e.jsxs("div",{className:"dashboard-preview",children:[e.jsx("h3",{children:"Dashboard Overview"}),e.jsx("p",{children:"Your dashboard shows everything at a glance:"}),e.jsxs("ul",{className:"dashboard-features",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Performance Metrics:"})," Track your shows, earnings, and audience growth"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Practice Statistics:"})," Monitor your practice time and skill development"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Goal Progress:"})," See how close you are to achieving your musical goals"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Recent Activities:"})," Quick access to your latest performances and practice sessions"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Analytics Charts:"})," Visual representation of your musical journey"]})]})]})})},{id:"tracking",title:"Activity Tracking",description:"Log your performances and practice sessions",content:e.jsxs("div",{className:"onboarding-content",children:[e.jsx("h3",{children:"Track Your Musical Activities"}),e.jsxs("div",{className:"activity-types",children:[e.jsxs("div",{className:"activity-type",children:[e.jsx("div",{className:"activity-icon",children:"🎤"}),e.jsx("h4",{children:"Performances"}),e.jsx("p",{children:"Log your shows with details like venue, audience size, payment, and setlist."})]}),e.jsxs("div",{className:"activity-type",children:[e.jsx("div",{className:"activity-icon",children:"🎵"}),e.jsx("h4",{children:"Practice Sessions"}),e.jsx("p",{children:"Track your practice time, focus areas, and skills you're working on."})]})]}),e.jsx("div",{className:"tracking-benefits",children:e.jsxs("p",{children:[e.jsx("strong",{children:"Why track?"})," The more data you provide, the better recommendations you'll receive!"]})})]})},{id:"goals",title:"Goal Management",description:"Set and achieve your musical aspirations",content:e.jsxs("div",{className:"onboarding-content",children:[e.jsx("h3",{children:"Set Your Musical Goals"}),e.jsx("p",{children:"Goals help you stay focused and motivated. You can create different types of goals:"}),e.jsxs("div",{className:"goal-types",children:[e.jsxs("div",{className:"goal-type",children:[e.jsx("span",{className:"goal-icon",children:"🎭"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Performance Goals:"})," Number of shows, audience size targets"]})]}),e.jsxs("div",{className:"goal-type",children:[e.jsx("span",{className:"goal-icon",children:"🎸"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Skill Goals:"})," Learn new techniques, master songs"]})]}),e.jsxs("div",{className:"goal-type",children:[e.jsx("span",{className:"goal-icon",children:"💰"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Financial Goals:"})," Earning targets, equipment purchases"]})]}),e.jsxs("div",{className:"goal-type",children:[e.jsx("span",{className:"goal-icon",children:"🎼"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Recording Goals:"})," Album releases, demo recordings"]})]})]})]})},{id:"achievements",title:"Achievements & Rewards",description:"Unlock achievements as you progress",content:e.jsxs("div",{className:"onboarding-content",children:[e.jsx("h3",{children:"Earn Achievements"}),e.jsx("p",{children:"As you track your activities and reach milestones, you'll unlock achievements:"}),e.jsxs("div",{className:"achievement-examples",children:[e.jsxs("div",{className:"achievement-example",children:[e.jsx("span",{className:"achievement-icon",children:"🎤"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Stage Debut:"})," Perform your first show"]})]}),e.jsxs("div",{className:"achievement-example",children:[e.jsx("span",{className:"achievement-icon",children:"🎯"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Goal Achiever:"})," Complete your first goal"]})]}),e.jsxs("div",{className:"achievement-example",children:[e.jsx("span",{className:"achievement-icon",children:"💵"}),e.jsxs("div",{children:[e.jsx("strong",{children:"First Earnings:"})," Earn your first $100"]})]})]}),e.jsx("p",{className:"achievement-note",children:e.jsx("strong",{children:"🔔 You'll get notifications when you unlock new achievements!"})})]})},{id:"ready",title:"You're All Set!",description:"Ready to start your musical journey",content:e.jsxs("div",{className:"onboarding-content",children:[e.jsx("div",{className:"completion-icon",children:"🚀"}),e.jsx("h2",{children:"Ready to Rock!"}),e.jsx("p",{children:"You now know how to use all the main features. Here's what you can do next:"}),e.jsxs("div",{className:"next-steps",children:[e.jsxs("div",{className:"next-step",children:[e.jsx("strong",{children:"1. Add your first performance"})," - Start building your performance history"]}),e.jsxs("div",{className:"next-step",children:[e.jsx("strong",{children:"2. Set your first goal"})," - Give yourself something to work towards"]}),e.jsxs("div",{className:"next-step",children:[e.jsx("strong",{children:"3. Log practice sessions"})," - Track your skill development"]})]}),e.jsx("p",{className:"encouragement",children:"Remember: The more you use the app, the better recommendations you'll get!"})]})}],o=()=>{a<c.length-1?i(a+1):u()},l=()=>{a>0&&i(a-1)},u=()=>{n(!1),setTimeout(()=>{t()},300)},h=()=>{u()};if(!r)return null;const p=c[a];return p?e.jsx("div",{className:"onboarding-overlay",children:e.jsxs("div",{className:"onboarding-modal",children:[e.jsx("button",{className:"onboarding-close",onClick:h,"aria-label":"Skip onboarding",children:"✕"}),e.jsxs("div",{className:"onboarding-progress",children:[e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:`${(a+1)/c.length*100}%`}})}),e.jsxs("span",{className:"progress-text",children:[a+1," of ",c.length]})]}),e.jsxs("div",{className:"onboarding-header",children:[e.jsx("h2",{children:p.title}),e.jsx("p",{className:"onboarding-description",children:p.description})]}),e.jsx("div",{className:"onboarding-body",children:p.content}),e.jsxs("div",{className:"onboarding-footer",children:[e.jsxs("div",{className:"onboarding-actions",children:[e.jsx("button",{className:"btn btn-outline-secondary",onClick:l,disabled:a===0,children:"Previous"}),e.jsx("button",{className:"btn btn-primary",onClick:o,children:a===c.length-1?"Get Started!":"Next"})]}),e.jsx("button",{className:"skip-button",onClick:h,children:"Skip Tour"})]})]})}):null};const cs=({profile:s})=>{const{dispatch:t}=C(),[a,i]=y.useState(!0),[r,n]=y.useState(!1),[c,o]=y.useState({recentPerformances:[],recentPractice:[],activeGoals:[],allPerformances:[],allPractices:[],allGoals:[],metrics:{totalShows:0,totalPracticeTime:0,averagePayment:0,goalsCompleted:0}});y.useEffect(()=>{l()},[s.id]);const l=async()=>{try{i(!0);const d=await A.getPerformances(s.id),S=d.sort((E,f)=>f.date.getTime()-E.date.getTime()).slice(0,5),j=await A.getPracticeSessions(s.id),w=j.sort((E,f)=>f.date.getTime()-E.date.getTime()).slice(0,5),g=await A.getGoals(s.id),x=g.filter(E=>E.status==="active");await Y.checkAchievements(s.id,d,j,g);const m=d.length===0&&j.length===0&&g.length===0,v=localStorage.getItem(`onboarding_${s.id}`);m&&!v&&n(!0);const k={totalShows:d.length,totalPracticeTime:T.calculateTotalPracticeTime(j),averagePayment:T.calculateAverageShowPayment(d),goalsCompleted:g.filter(E=>E.status==="completed").length};o({recentPerformances:S,recentPractice:w,activeGoals:x,allPerformances:d,allPractices:j,allGoals:g,metrics:k})}catch(d){console.error("Error loading dashboard data:",d),t({type:"SET_ERROR",payload:"Failed to load dashboard data"})}finally{i(!1)}},u=()=>{n(!1),localStorage.setItem(`onboarding_${s.id}`,"completed")},h=d=>{switch(d){case"add-show":t({type:"SET_PAGE",payload:"activity-entry"});break;case"log-practice":t({type:"SET_PAGE",payload:"activity-entry"});break;case"create-goal":t({type:"SET_PAGE",payload:"goal-management"});break;case"bulk-entry":t({type:"SET_PAGE",payload:"bulk-entry"});break;case"view-recommendations":p();break}},p=()=>{try{const d={...s},S=Q(d);t({type:"SET_RECOMMENDATIONS",payload:S}),t({type:"SET_NAVIGATION_CONTEXT",payload:"dashboard"}),t({type:"SET_PAGE",payload:"results"})}catch(d){console.error("Error generating recommendations:",d),t({type:"SET_ERROR",payload:"Failed to generate recommendations. Please try again."})}};return a?e.jsxs("div",{className:"dashboard-loading",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading your dashboard..."})]}):e.jsxs("div",{className:"dashboard",children:[e.jsx("div",{className:"dashboard-header",children:e.jsxs("div",{className:"dashboard-header-content",children:[e.jsxs("div",{className:"dashboard-title",children:[e.jsxs("h1",{children:["Welcome back, ",s.name||"Musician","!"]}),e.jsx("p",{className:"dashboard-subtitle",children:"Here's your musical journey at a glance"})]}),e.jsx(rs,{profileId:s.id})]})}),e.jsxs("div",{className:"dashboard-grid",children:[e.jsx("div",{className:"dashboard-section",children:e.jsx(Qe,{metrics:c.metrics})}),e.jsx("div",{className:"dashboard-section",children:e.jsx(es,{onAction:h})}),e.jsx("div",{className:"dashboard-section",children:e.jsx(Ze,{performances:c.recentPerformances,practices:c.recentPractice})}),e.jsx("div",{className:"dashboard-section",children:e.jsx(Je,{goals:c.activeGoals,onGoalClick:()=>t({type:"SET_PAGE",payload:"goal-management"})})}),e.jsxs("div",{className:"dashboard-section recommendation-card",children:[e.jsx("h3",{children:"Your Personalized Recommendations"}),e.jsx("p",{className:"recommendation-description",children:"Get updated advice based on your latest activities and progress. Our AI analyzes your performance data and practice habits to provide tailored guidance."}),e.jsxs("div",{className:"recommendation-actions",children:[e.jsxs("button",{className:"btn btn-primary btn-large",onClick:p,type:"button",children:[e.jsx("span",{className:"action-icon",children:"💡"}),"View My Recommendations"]}),e.jsx("div",{className:"recommendation-hint",children:e.jsx("small",{children:"Updated based on your recent activities"})})]})]})]}),e.jsx(ss,{performances:c.allPerformances,practices:c.allPractices,goals:c.allGoals}),e.jsx(ns,{profileId:s.id,showProgress:!0}),r&&e.jsx(is,{profile:s,onComplete:u})]})};const te=()=>{const{state:s,dispatch:t}=C(),[a,i]=y.useState(!0),[r,n]=y.useState(null);y.useEffect(()=>{c()},[]);const c=async()=>{try{i(!0),await A.init();const h=await A.getAllProfiles();t({type:"SET_AVAILABLE_PROFILES",payload:h})}catch(h){console.error("Error loading profiles:",h),n("Failed to load profiles")}finally{i(!1)}},o=async h=>{try{t({type:"SET_LOADING",payload:!0});const p=await A.loadProfile(h.id);p&&(t({type:"SET_PROFILE",payload:p}),t({type:"SET_PAGE",payload:"dashboard"}))}catch(p){console.error("Error loading profile:",p),n("Failed to load profile")}finally{t({type:"SET_LOADING",payload:!1})}},l=()=>{t({type:"SET_PAGE",payload:"profile-creation"})},u=async(h,p)=>{if(p.stopPropagation(),window.confirm("Are you sure you want to delete this profile? This action cannot be undone."))try{await A.deleteProfile(h),await c()}catch(d){console.error("Error deleting profile:",d),n("Failed to delete profile")}};return a?e.jsxs("div",{className:"profile-selection-loading",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading your profiles..."})]}):r?e.jsxs("div",{className:"profile-selection-error",children:[e.jsx("h2",{children:"Error"}),e.jsx("p",{children:r}),e.jsx("button",{className:"btn btn-primary",onClick:c,children:"Try Again"})]}):e.jsxs("div",{className:"profile-selection",children:[e.jsxs("div",{className:"profile-selection-header",children:[e.jsx("h1",{children:"Choose Your Profile"}),e.jsx("p",{children:"Select an existing profile or create a new one to get started"})]}),e.jsx("div",{className:"profile-selection-content",children:s.availableProfiles.length===0?e.jsxs("div",{className:"no-profiles",children:[e.jsx("div",{className:"no-profiles-icon",children:"🎵"}),e.jsx("h3",{children:"No profiles found"}),e.jsx("p",{children:"Create your first musician profile to start tracking your musical journey!"}),e.jsx("button",{className:"btn btn-primary btn-lg",onClick:l,children:"Create New Profile"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"profiles-grid",children:s.availableProfiles.map(h=>{var p,d,S;return e.jsxs("div",{className:"profile-card",onClick:()=>o(h),children:[e.jsxs("div",{className:"profile-card-header",children:[e.jsx("div",{className:"profile-avatar",children:h.name?h.name.charAt(0).toUpperCase():"🎵"}),e.jsx("button",{className:"profile-delete-btn",onClick:j=>u(h.id,j),"aria-label":"Delete profile",children:"×"})]}),e.jsxs("div",{className:"profile-card-content",children:[e.jsx("h3",{children:h.name||"Unnamed Profile"}),e.jsxs("div",{className:"profile-details",children:[e.jsx("span",{className:"profile-instrument",children:h.instrument}),e.jsxs("span",{className:"profile-experience",children:[h.yearsOfExperience," years"]})]}),e.jsxs("div",{className:"profile-stats",children:[e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-number",children:((p=h.shows)==null?void 0:p.length)||0}),e.jsx("span",{className:"stat-label",children:"Shows"})]}),e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-number",children:((d=h.goals)==null?void 0:d.length)||0}),e.jsx("span",{className:"stat-label",children:"Goals"})]}),e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-number",children:((S=h.practiceLog)==null?void 0:S.length)||0}),e.jsx("span",{className:"stat-label",children:"Sessions"})]})]}),e.jsxs("div",{className:"profile-last-updated",children:["Last updated: ",_(h.lastUpdated)]})]})]},h.id)})}),e.jsx("div",{className:"profile-selection-actions",children:e.jsx("button",{className:"btn btn-outline-primary",onClick:l,children:"Create New Profile"})})]})}),e.jsx("div",{className:"profile-selection-footer",children:e.jsx("p",{children:e.jsx("small",{children:"All data is stored locally on your device. No account required."})})})]})},os=({profile:s})=>{const{dispatch:t}=C(),[a,i]=y.useState(!1),[r,n]=y.useState({date:new Date().toISOString().split("T")[0],venueName:"",venueType:"bar",audienceSize:"",duration:"",payment:"",notes:"",setlist:""}),[c,o]=y.useState({}),l=()=>{const p={};return r.venueName.trim()||(p.venueName="Venue name is required"),(!r.audienceSize||parseInt(r.audienceSize)<0)&&(p.audienceSize="Please enter a valid audience size"),(!r.duration||parseInt(r.duration)<=0)&&(p.duration="Please enter a valid duration in minutes"),(!r.payment||parseFloat(r.payment)<0)&&(p.payment="Please enter a valid payment amount"),new Date(r.date+"T12:00:00")>new Date&&(p.date="Performance date cannot be in the future"),o(p),Object.keys(p).length===0},u=async p=>{if(p.preventDefault(),!!l()){i(!0);try{const d={id:R(),date:new Date(r.date+"T12:00:00"),venueName:r.venueName.trim(),venueType:r.venueType,audienceSize:parseInt(r.audienceSize),duration:parseInt(r.duration),payment:parseFloat(r.payment),notes:r.notes.trim()||void 0,setlist:r.setlist.trim()?r.setlist.split(",").map(S=>S.trim()):void 0};await A.addPerformance(s.id,d),t({type:"ADD_PERFORMANCE",payload:d}),n({date:new Date().toISOString().split("T")[0],venueName:"",venueType:"bar",audienceSize:"",duration:"",payment:"",notes:"",setlist:""}),alert("Performance added successfully!")}catch(d){console.error("Error adding performance:",d),alert("Failed to add performance. Please try again.")}finally{i(!1)}}},h=(p,d)=>{n(S=>({...S,[p]:d})),c[p]&&o(S=>({...S,[p]:""}))};return e.jsxs("div",{className:"performance-entry",children:[e.jsxs("div",{className:"entry-header",children:[e.jsx("h2",{children:"Add Performance"}),e.jsx("p",{children:"Record details about your recent show"})]}),e.jsxs("form",{onSubmit:u,className:"performance-form",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"date",children:"Performance Date *"}),e.jsx("input",{type:"date",id:"date",value:r.date,onChange:p=>h("date",p.target.value),className:c.date?"error":"",required:!0}),c.date&&e.jsx("span",{className:"error-text",children:c.date})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"venueName",children:"Venue Name *"}),e.jsx("input",{type:"text",id:"venueName",value:r.venueName,onChange:p=>h("venueName",p.target.value),className:c.venueName?"error":"",placeholder:"e.g., Blue Note Cafe",required:!0}),c.venueName&&e.jsx("span",{className:"error-text",children:c.venueName})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"venueType",children:"Venue Type"}),e.jsxs("select",{id:"venueType",value:r.venueType,onChange:p=>h("venueType",p.target.value),children:[e.jsx("option",{value:"bar",children:"Bar"}),e.jsx("option",{value:"restaurant",children:"Restaurant"}),e.jsx("option",{value:"concert_hall",children:"Concert Hall"}),e.jsx("option",{value:"festival",children:"Festival"}),e.jsx("option",{value:"private_event",children:"Private Event"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"audienceSize",children:"Audience Size *"}),e.jsx("input",{type:"number",id:"audienceSize",value:r.audienceSize,onChange:p=>h("audienceSize",p.target.value),className:c.audienceSize?"error":"",placeholder:"50",min:"0",required:!0}),c.audienceSize&&e.jsx("span",{className:"error-text",children:c.audienceSize})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"duration",children:"Duration (minutes) *"}),e.jsx("input",{type:"number",id:"duration",value:r.duration,onChange:p=>h("duration",p.target.value),className:c.duration?"error":"",placeholder:"90",min:"1",required:!0}),c.duration&&e.jsx("span",{className:"error-text",children:c.duration})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"payment",children:"Payment ($) *"}),e.jsx("input",{type:"number",id:"payment",value:r.payment,onChange:p=>h("payment",p.target.value),className:c.payment?"error":"",placeholder:"150.00",min:"0",step:"0.01",required:!0}),c.payment&&e.jsx("span",{className:"error-text",children:c.payment})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"setlist",children:"Setlist (comma-separated songs)"}),e.jsx("input",{type:"text",id:"setlist",value:r.setlist,onChange:p=>h("setlist",p.target.value),placeholder:"Song 1, Song 2, Song 3"}),e.jsx("small",{className:"form-help",children:"Optional: List the songs you performed"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"notes",children:"Notes"}),e.jsx("textarea",{id:"notes",value:r.notes,onChange:p=>h("notes",p.target.value),placeholder:"How did the show go? Any memorable moments?",rows:4})]}),e.jsx("div",{className:"form-actions",children:e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a,children:a?"Adding Performance...":"Add Performance"})})]})]})},ls=({profile:s})=>{const{dispatch:t}=C(),[a,i]=y.useState(!1),[r,n]=y.useState({date:new Date().toISOString().split("T")[0],duration:"",focusAreas:[],customFocusArea:"",skillsWorkedOn:[],customSkill:"",notes:""}),[c,o]=y.useState({}),l=["Scales","Chords","Rhythm","Improvisation","Technique","Sight Reading","Ear Training","Song Learning","Performance Preparation"],u=["Fingering","Timing","Dynamics","Articulation","Intonation","Expression","Stage Presence","Equipment Setup","Music Theory"],h=()=>{const x={};return(!r.duration||parseInt(r.duration)<=0)&&(x.duration="Please enter a valid duration in minutes"),r.focusAreas.length===0&&(x.focusAreas="Please select at least one focus area"),new Date(r.date+"T12:00:00")>new Date&&(x.date="Practice date cannot be in the future"),o(x),Object.keys(x).length===0},p=async x=>{if(x.preventDefault(),!!h()){i(!0);try{const m={id:R(),date:new Date(r.date+"T12:00:00"),duration:parseInt(r.duration),focusAreas:r.focusAreas,skillsWorkedOn:r.skillsWorkedOn,notes:r.notes.trim()||void 0};await A.addPracticeSession(s.id,m),t({type:"ADD_PRACTICE_SESSION",payload:m}),n({date:new Date().toISOString().split("T")[0],duration:"",focusAreas:[],customFocusArea:"",skillsWorkedOn:[],customSkill:"",notes:""}),alert("Practice session logged successfully!")}catch(m){console.error("Error adding practice session:",m),alert("Failed to log practice session. Please try again.")}finally{i(!1)}}},d=(x,m)=>{n(v=>({...v,[x]:m})),c[x]&&o(v=>({...v,[x]:""}))},S=x=>{n(m=>({...m,focusAreas:m.focusAreas.includes(x)?m.focusAreas.filter(v=>v!==x):[...m.focusAreas,x]})),c.focusAreas&&o(m=>({...m,focusAreas:""}))},j=x=>{n(m=>({...m,skillsWorkedOn:m.skillsWorkedOn.includes(x)?m.skillsWorkedOn.filter(v=>v!==x):[...m.skillsWorkedOn,x]}))},w=()=>{const x=r.customFocusArea.trim();x&&!r.focusAreas.includes(x)&&n(m=>({...m,focusAreas:[...m.focusAreas,x],customFocusArea:""}))},g=()=>{const x=r.customSkill.trim();x&&!r.skillsWorkedOn.includes(x)&&n(m=>({...m,skillsWorkedOn:[...m.skillsWorkedOn,x],customSkill:""}))};return e.jsxs("div",{className:"practice-entry",children:[e.jsxs("div",{className:"entry-header",children:[e.jsx("h2",{children:"Log Practice Session"}),e.jsx("p",{children:"Track your practice time and areas of focus"})]}),e.jsxs("form",{onSubmit:p,className:"practice-form",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"date",children:"Practice Date *"}),e.jsx("input",{type:"date",id:"date",value:r.date,onChange:x=>d("date",x.target.value),className:c.date?"error":"",required:!0}),c.date&&e.jsx("span",{className:"error-text",children:c.date})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"duration",children:"Duration (minutes) *"}),e.jsx("input",{type:"number",id:"duration",value:r.duration,onChange:x=>d("duration",x.target.value),className:c.duration?"error":"",placeholder:"60",min:"1",required:!0}),c.duration&&e.jsx("span",{className:"error-text",children:c.duration})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Focus Areas *"}),e.jsx("div",{className:"checkbox-grid",children:l.map(x=>e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:r.focusAreas.includes(x),onChange:()=>S(x)}),x]},x))}),e.jsxs("div",{className:"custom-input",children:[e.jsx("input",{type:"text",value:r.customFocusArea,onChange:x=>d("customFocusArea",x.target.value),placeholder:"Add custom focus area"}),e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:w,disabled:!r.customFocusArea.trim(),children:"Add"})]}),c.focusAreas&&e.jsx("span",{className:"error-text",children:c.focusAreas})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Skills Worked On"}),e.jsx("div",{className:"checkbox-grid",children:u.map(x=>e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:r.skillsWorkedOn.includes(x),onChange:()=>j(x)}),x]},x))}),e.jsxs("div",{className:"custom-input",children:[e.jsx("input",{type:"text",value:r.customSkill,onChange:x=>d("customSkill",x.target.value),placeholder:"Add custom skill"}),e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:g,disabled:!r.customSkill.trim(),children:"Add"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"notes",children:"Practice Notes"}),e.jsx("textarea",{id:"notes",value:r.notes,onChange:x=>d("notes",x.target.value),placeholder:"What went well? What needs improvement? Any breakthroughs?",rows:4})]}),e.jsx("div",{className:"form-actions",children:e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a,children:a?"Logging Session...":"Log Practice Session"})})]})]})},ds=({profile:s})=>{const[t,a]=y.useState(!0),[i,r]=y.useState("performances"),[n,c]=y.useState([]),[o,l]=y.useState([]),[u,h]=y.useState(null);y.useEffect(()=>{p()},[s.id]);const p=async()=>{try{a(!0);const[w,g]=await Promise.all([A.getPerformances(s.id),A.getPracticeSessions(s.id)]);c(w),l(g);const x=T.analyzePerformanceTrends(w),m=T.analyzePracticeHabits(g),v={totalShows:w.length,totalPracticeTime:T.calculateTotalPracticeTime(g),totalEarnings:x.totalEarnings,averagePayment:T.calculateAverageShowPayment(w),topVenues:T.getTopVenueTypes(w),topSkills:T.getMostPracticedSkills(g)};h({performanceTrends:x,practiceAnalysis:m,totalStats:v})}catch(w){console.error("Error loading activity data:",w)}finally{a(!1)}},d=()=>{if(n.length===0)return e.jsxs("div",{className:"empty-state",children:[e.jsx("h3",{children:"No performances recorded"}),e.jsx("p",{children:"Start tracking your shows to see your performance history!"})]});const w=z(n);return e.jsxs("div",{className:"activity-list",children:[e.jsx("div",{className:"list-header",children:e.jsxs("h3",{children:["Performance History (",n.length," shows)"]})}),e.jsx("div",{className:"activity-items",children:w.map(g=>e.jsxs("div",{className:"activity-item performance-item",children:[e.jsx("div",{className:"activity-icon",children:"🎤"}),e.jsxs("div",{className:"activity-content",children:[e.jsx("div",{className:"activity-title",children:g.venueName}),e.jsxs("div",{className:"activity-subtitle",children:[g.venueType.replace("_"," ")," • ",_(g.date)]}),e.jsxs("div",{className:"activity-stats",children:[e.jsxs("span",{className:"stat",children:["👥 ",g.audienceSize," people"]}),e.jsxs("span",{className:"stat",children:["⏱️ ",$(g.duration)]}),e.jsxs("span",{className:"stat",children:["💰 ",W(g.payment)]})]}),g.setlist&&e.jsxs("div",{className:"activity-setlist",children:[e.jsx("strong",{children:"Setlist:"})," ",g.setlist.join(", ")]}),g.notes&&e.jsx("div",{className:"activity-notes",children:g.notes})]})]},g.id))})]})},S=()=>{if(o.length===0)return e.jsxs("div",{className:"empty-state",children:[e.jsx("h3",{children:"No practice sessions recorded"}),e.jsx("p",{children:"Start logging your practice to track your improvement!"})]});const w=z(o);return e.jsxs("div",{className:"activity-list",children:[e.jsx("div",{className:"list-header",children:e.jsxs("h3",{children:["Practice History (",o.length," sessions)"]})}),e.jsx("div",{className:"activity-items",children:w.map(g=>e.jsxs("div",{className:"activity-item practice-item",children:[e.jsx("div",{className:"activity-icon",children:"🎵"}),e.jsxs("div",{className:"activity-content",children:[e.jsx("div",{className:"activity-title",children:"Practice Session"}),e.jsxs("div",{className:"activity-subtitle",children:[_(g.date)," • ",$(g.duration)]}),e.jsxs("div",{className:"activity-tags",children:[e.jsxs("div",{className:"tag-group",children:[e.jsx("strong",{children:"Focus Areas:"}),g.focusAreas.map((x,m)=>e.jsx("span",{className:"tag tag-focus",children:x},m))]}),g.skillsWorkedOn.length>0&&e.jsxs("div",{className:"tag-group",children:[e.jsx("strong",{children:"Skills:"}),g.skillsWorkedOn.map((x,m)=>e.jsx("span",{className:"tag tag-skill",children:x},m))]})]}),g.notes&&e.jsx("div",{className:"activity-notes",children:g.notes})]})]},g.id))})]})},j=()=>{if(!u)return null;const{performanceTrends:w,practiceAnalysis:g,totalStats:x}=u;return e.jsx("div",{className:"analytics-view",children:e.jsxs("div",{className:"analytics-grid",children:[e.jsxs("div",{className:"analytics-card",children:[e.jsx("h3",{children:"Performance Overview"}),e.jsxs("div",{className:"analytics-stats",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-value",children:x.totalShows}),e.jsx("span",{className:"stat-label",children:"Total Shows"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-value",children:W(x.totalEarnings)}),e.jsx("span",{className:"stat-label",children:"Total Earnings"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-value",children:W(x.averagePayment)}),e.jsx("span",{className:"stat-label",children:"Average Payment"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-value",children:Math.round(w.averageAudienceSize)}),e.jsx("span",{className:"stat-label",children:"Avg Audience"})]})]}),e.jsxs("div",{className:"analytics-trends",children:[e.jsxs("div",{className:"trend-item",children:[e.jsx("span",{className:"trend-label",children:"Show Frequency:"}),e.jsx("span",{className:`trend-value trend-${w.showFrequency}`,children:w.showFrequency})]}),e.jsxs("div",{className:"trend-item",children:[e.jsx("span",{className:"trend-label",children:"Venue Progression:"}),e.jsx("span",{className:`trend-value trend-${w.venueProgression}`,children:w.venueProgression})]})]})]}),e.jsxs("div",{className:"analytics-card",children:[e.jsx("h3",{children:"Practice Overview"}),e.jsxs("div",{className:"analytics-stats",children:[e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-value",children:x.totalShows}),e.jsx("span",{className:"stat-label",children:"Total Sessions"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-value",children:$(x.totalPracticeTime)}),e.jsx("span",{className:"stat-label",children:"Total Time"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-value",children:$(Math.round(g.weeklyAverage))}),e.jsx("span",{className:"stat-label",children:"Weekly Average"})]}),e.jsxs("div",{className:"stat-item",children:[e.jsx("span",{className:"stat-value",children:g.consistency}),e.jsx("span",{className:"stat-label",children:"Consistency"})]})]}),e.jsxs("div",{className:"analytics-recommendation",children:[e.jsxs("div",{className:"recommendation-item",children:[e.jsx("span",{className:"recommendation-label",children:"Suggested Adjustment:"}),e.jsxs("span",{className:`recommendation-value rec-${g.recommendedAdjustment}`,children:[g.recommendedAdjustment," practice time"]})]}),g.suggestProfessionalLessons&&e.jsx("div",{className:"recommendation-item",children:e.jsx("span",{className:"recommendation-label",children:"💡 Consider professional lessons to improve consistency"})})]})]}),x.topVenues.length>0&&e.jsxs("div",{className:"analytics-card",children:[e.jsx("h3",{children:"Top Venue Types"}),e.jsx("div",{className:"top-list",children:x.topVenues.slice(0,5).map((m,v)=>e.jsxs("div",{className:"top-item",children:[e.jsx("span",{className:"top-name",children:m.type.replace("_"," ")}),e.jsxs("span",{className:"top-count",children:[m.count," shows"]})]},v))})]}),x.topSkills.length>0&&e.jsxs("div",{className:"analytics-card",children:[e.jsx("h3",{children:"Most Practiced Skills"}),e.jsx("div",{className:"top-list",children:x.topSkills.slice(0,5).map((m,v)=>e.jsxs("div",{className:"top-item",children:[e.jsx("span",{className:"top-name",children:m.skill}),e.jsxs("span",{className:"top-count",children:[m.count," sessions"]})]},v))})]})]})})};return t?e.jsxs("div",{className:"activity-loading",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading activity history..."})]}):e.jsxs("div",{className:"activity-history",children:[e.jsxs("div",{className:"history-header",children:[e.jsx("h2",{children:"Activity History"}),e.jsxs("div",{className:"history-tabs",children:[e.jsx("button",{className:`tab-button ${i==="performances"?"active":""}`,onClick:()=>r("performances"),children:"Performances"}),e.jsx("button",{className:`tab-button ${i==="practice"?"active":""}`,onClick:()=>r("practice"),children:"Practice"}),e.jsx("button",{className:`tab-button ${i==="analytics"?"active":""}`,onClick:()=>r("analytics"),children:"Analytics"})]})]}),e.jsxs("div",{className:"history-content",children:[i==="performances"&&d(),i==="practice"&&S(),i==="analytics"&&j()]})]})};const us=()=>{const{state:s,dispatch:t}=C(),[a,i]=y.useState("performance"),r=()=>{t({type:"SET_PAGE",payload:"dashboard"})},n=()=>{if(!s.musicianProfile)return e.jsxs("div",{className:"activity-error",children:[e.jsx("h3",{children:"No Profile Selected"}),e.jsx("p",{children:"Please select a profile to track activities."}),e.jsx("button",{className:"btn btn-primary",onClick:()=>t({type:"SET_PAGE",payload:"profile-selection"}),children:"Select Profile"})]});switch(a){case"performance":return e.jsx(os,{profile:s.musicianProfile});case"practice":return e.jsx(ls,{profile:s.musicianProfile});case"history":return e.jsx(ds,{profile:s.musicianProfile});default:return null}};return e.jsxs("div",{className:"activity-tracking",children:[e.jsxs("div",{className:"activity-header",children:[e.jsx("button",{className:"btn btn-outline-secondary",onClick:r,children:"← Back to Dashboard"}),e.jsx("h1",{children:"Activity Tracking"}),e.jsx("p",{children:"Log your performances and practice sessions"})]}),e.jsxs("div",{className:"activity-tabs",children:[e.jsx("button",{className:`tab-button ${a==="performance"?"active":""}`,onClick:()=>i("performance"),type:"button",role:"button",children:"🎤 Add Performance"}),e.jsx("button",{className:`tab-button ${a==="practice"?"active":""}`,onClick:()=>i("practice"),type:"button",role:"button",children:"🎵 Log Practice"}),e.jsx("button",{className:`tab-button ${a==="history"?"active":""}`,onClick:()=>i("history"),type:"button",role:"button",children:"📊 View History"})]}),e.jsx("div",{className:"activity-content",children:n()})]})},ce=({goal:s,onSubmit:t,onCancel:a})=>{var d,S;const[i,r]=y.useState({title:(s==null?void 0:s.title)||"",description:(s==null?void 0:s.description)||"",type:(s==null?void 0:s.type)||"custom",targetValue:((d=s==null?void 0:s.targetValue)==null?void 0:d.toString())||"",currentValue:((S=s==null?void 0:s.currentValue)==null?void 0:S.toString())||"0",deadline:s!=null&&s.deadline?s.deadline.toISOString().split("T")[0]:"",status:(s==null?void 0:s.status)||"active"}),[n,c]=y.useState({}),o=[{value:"performance",label:"Performance",icon:"🎤"},{value:"skill",label:"Skill Development",icon:"🎯"},{value:"financial",label:"Financial",icon:"💰"},{value:"recording",label:"Recording",icon:"🎵"},{value:"custom",label:"Custom",icon:"⭐"}],l=()=>{const j={};return i.title.trim()||(j.title="Goal title is required"),i.description.trim()||(j.description="Goal description is required"),i.targetValue&&parseFloat(i.targetValue)<=0&&(j.targetValue="Target value must be positive"),parseFloat(i.currentValue)<0&&(j.currentValue="Current value cannot be negative"),i.deadline&&new Date(i.deadline)<=new Date&&(j.deadline="Deadline must be in the future"),c(j),Object.keys(j).length===0},u=j=>{if(j.preventDefault(),!l())return;const w={title:i.title.trim(),description:i.description.trim(),type:i.type,targetValue:i.targetValue?parseFloat(i.targetValue):void 0,currentValue:parseFloat(i.currentValue),deadline:i.deadline?new Date(i.deadline):void 0,status:i.status};t(w)},h=(j,w)=>{r(g=>({...g,[j]:w})),n[j]&&c(g=>({...g,[j]:""}))},p=j=>{switch(j){case"performance":return"Track show-related goals like number of performances, audience size, or venue types";case"skill":return"Develop musical skills like mastering techniques, learning songs, or improving areas";case"financial":return"Set earning targets from performances, teaching, or other musical activities";case"recording":return"Create and release music, including albums, singles, or demo recordings";case"custom":return"Any other musical goal that matters to your journey";default:return""}};return e.jsxs("div",{className:"goal-form",children:[e.jsxs("div",{className:"form-header",children:[e.jsx("h2",{children:s?"Edit Goal":"Create New Goal"}),e.jsx("p",{children:"Set a clear, achievable goal to track your musical progress"})]}),e.jsxs("form",{onSubmit:u,className:"goal-form-content",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"title",children:"Goal Title *"}),e.jsx("input",{type:"text",id:"title",value:i.title,onChange:j=>h("title",j.target.value),className:n.title?"error":"",placeholder:"e.g., Perform 20 shows this year",required:!0}),n.title&&e.jsx("span",{className:"error-text",children:n.title})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"type",children:"Goal Type *"}),e.jsx("div",{className:"goal-type-grid",children:o.map(j=>e.jsxs("label",{className:"goal-type-option",children:[e.jsx("input",{type:"radio",name:"type",value:j.value,checked:i.type===j.value,onChange:w=>h("type",w.target.value)}),e.jsxs("div",{className:"goal-type-content",children:[e.jsx("div",{className:"goal-type-icon",children:j.icon}),e.jsx("div",{className:"goal-type-label",children:j.label})]})]},j.value))}),e.jsx("p",{className:"goal-type-description",children:p(i.type)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"description",children:"Description *"}),e.jsx("textarea",{id:"description",value:i.description,onChange:j=>h("description",j.target.value),className:n.description?"error":"",placeholder:"Describe your goal in detail. What do you want to achieve and why?",rows:4,required:!0}),n.description&&e.jsx("span",{className:"error-text",children:n.description})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"targetValue",children:"Target Value"}),e.jsx("input",{type:"number",id:"targetValue",value:i.targetValue,onChange:j=>h("targetValue",j.target.value),className:n.targetValue?"error":"",placeholder:"e.g., 20",min:"0",step:"0.01"}),n.targetValue&&e.jsx("span",{className:"error-text",children:n.targetValue}),e.jsx("small",{className:"form-help",children:"Optional: Set a numeric target to track progress"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"currentValue",children:"Current Progress"}),e.jsx("input",{type:"number",id:"currentValue",value:i.currentValue,onChange:j=>h("currentValue",j.target.value),className:n.currentValue?"error":"",placeholder:"0",min:"0",step:"0.01"}),n.currentValue&&e.jsx("span",{className:"error-text",children:n.currentValue})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"deadline",children:"Deadline"}),e.jsx("input",{type:"date",id:"deadline",value:i.deadline,onChange:j=>h("deadline",j.target.value),className:n.deadline?"error":""}),n.deadline&&e.jsx("span",{className:"error-text",children:n.deadline}),e.jsx("small",{className:"form-help",children:"Optional: Set a deadline to stay motivated"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"status",children:"Status"}),e.jsxs("select",{id:"status",value:i.status,onChange:j=>h("status",j.target.value),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"paused",children:"Paused"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:s?"Update Goal":"Create Goal"})]})]})]})},ms=({goals:s,onGoalSelect:t,onCreateNew:a})=>{const[i,r]=y.useState("all"),n=d=>{switch(d){case"performance":return"🎤";case"skill":return"🎯";case"financial":return"💰";case"recording":return"🎵";case"custom":return"⭐";default:return"📋"}},c=d=>{switch(d){case"active":return"status-active";case"completed":return"status-completed";case"paused":return"status-paused";case"cancelled":return"status-cancelled";default:return"status-active"}},o=d=>!d.deadline||d.status!=="active"?"normal":L(d.deadline,7)?"urgent":L(d.deadline,30)?"soon":"normal",l=d=>!d.targetValue||d.targetValue===0?0:Math.min(d.currentValue/d.targetValue*100,100),u=s.filter(d=>{switch(i){case"active":return d.status==="active";case"completed":return d.status==="completed";case"urgent":return d.status==="active"&&o(d)==="urgent";case"all":default:return!0}}),h={urgent:u.filter(d=>d.status==="active"&&o(d)==="urgent"),active:u.filter(d=>d.status==="active"&&o(d)!=="urgent"),completed:u.filter(d=>d.status==="completed"),other:u.filter(d=>d.status!=="active"&&d.status!=="completed")},p=d=>{const S=l(d),j=o(d);return e.jsxs("div",{className:`goal-card goal-${j} ${c(d.status)}`,onClick:()=>t(d),children:[e.jsxs("div",{className:"goal-card-header",children:[e.jsx("div",{className:"goal-icon",children:n(d.type)}),e.jsx("div",{className:"goal-status",children:e.jsx("span",{className:`status-badge ${c(d.status)}`,children:d.status})})]}),e.jsxs("div",{className:"goal-card-content",children:[e.jsx("h3",{className:"goal-title",children:d.title}),e.jsx("p",{className:"goal-description",children:d.description}),d.targetValue&&e.jsxs("div",{className:"goal-progress",children:[e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:`${S}%`}})}),e.jsxs("div",{className:"progress-text",children:[d.currentValue," / ",d.targetValue," (",Math.round(S),"%)"]})]}),e.jsxs("div",{className:"goal-footer",children:[e.jsx("div",{className:"goal-type",children:d.type.replace("_"," ")}),d.deadline&&e.jsxs("div",{className:`goal-deadline urgency-${j}`,children:["Due: ",_(d.deadline)]})]})]})]},d.id)};return s.length===0?e.jsxs("div",{className:"goal-empty",children:[e.jsx("div",{className:"empty-icon",children:"🎯"}),e.jsx("h3",{children:"No Goals Yet"}),e.jsx("p",{children:"Set your first goal to start tracking your musical progress!"}),e.jsx("button",{className:"btn btn-primary",onClick:a,children:"Create Your First Goal"})]}):e.jsxs("div",{className:"goal-list",children:[e.jsxs("div",{className:"goal-list-header",children:[e.jsxs("div",{className:"goal-filters",children:[e.jsxs("button",{className:`filter-btn ${i==="all"?"active":""}`,onClick:()=>r("all"),children:["All (",s.length,")"]}),e.jsxs("button",{className:`filter-btn ${i==="active"?"active":""}`,onClick:()=>r("active"),children:["Active (",s.filter(d=>d.status==="active").length,")"]}),e.jsxs("button",{className:`filter-btn ${i==="urgent"?"active":""}`,onClick:()=>r("urgent"),children:["Urgent (",h.urgent.length,")"]}),e.jsxs("button",{className:`filter-btn ${i==="completed"?"active":""}`,onClick:()=>r("completed"),children:["Completed (",s.filter(d=>d.status==="completed").length,")"]})]}),e.jsx("button",{className:"btn btn-primary",onClick:a,children:"Create New Goal"})]}),e.jsx("div",{className:"goal-sections",children:i==="all"?e.jsxs(e.Fragment,{children:[h.urgent.length>0&&e.jsxs("div",{className:"goal-section",children:[e.jsx("h3",{className:"section-title urgent",children:"🚨 Urgent Goals"}),e.jsx("div",{className:"goal-grid",children:h.urgent.map(p)})]}),h.active.length>0&&e.jsxs("div",{className:"goal-section",children:[e.jsx("h3",{className:"section-title",children:"🎯 Active Goals"}),e.jsx("div",{className:"goal-grid",children:h.active.map(p)})]}),h.completed.length>0&&e.jsxs("div",{className:"goal-section",children:[e.jsx("h3",{className:"section-title",children:"✅ Completed Goals"}),e.jsx("div",{className:"goal-grid",children:h.completed.map(p)})]}),h.other.length>0&&e.jsxs("div",{className:"goal-section",children:[e.jsx("h3",{className:"section-title",children:"📋 Other Goals"}),e.jsx("div",{className:"goal-grid",children:h.other.map(p)})]})]}):e.jsx("div",{className:"goal-section",children:e.jsx("div",{className:"goal-grid",children:u.map(p)})})}),u.length===0&&e.jsxs("div",{className:"goal-empty",children:[e.jsx("h3",{children:"No goals found"}),e.jsx("p",{children:"Try adjusting your filter or create a new goal."})]})]})},hs=({goal:s,onUpdate:t,onDelete:a,onBack:i})=>{const[r,n]=y.useState(!1),[c,o]=y.useState(s.currentValue.toString()),l=v=>{switch(v){case"performance":return"🎤";case"skill":return"🎯";case"financial":return"💰";case"recording":return"🎵";case"custom":return"⭐";default:return"📋"}},u=v=>{switch(v){case"active":return"status-active";case"completed":return"status-completed";case"paused":return"status-paused";case"cancelled":return"status-cancelled";default:return"status-active"}},h=v=>!v.deadline||v.status!=="active"?"normal":L(v.deadline,7)?"urgent":L(v.deadline,30)?"soon":"normal",p=v=>!v.targetValue||v.targetValue===0?0:Math.min(v.currentValue/v.targetValue*100,100),d=v=>{const k=new Date,E=v.getTime()-k.getTime();return Math.ceil(E/(1e3*3600*24))},S=()=>{const v=parseFloat(c);if(isNaN(v)||v<0){alert("Please enter a valid progress value");return}const k={currentValue:v};s.targetValue&&v>=s.targetValue&&s.status==="active"&&(k.status="completed"),t(s.id,k)},j=v=>{t(s.id,{status:v})},w=v=>{t(s.id,v),n(!1)},g=p(s),x=h(s),m=s.deadline?d(s.deadline):null;return r?e.jsx(ce,{goal:s,onSubmit:w,onCancel:()=>n(!1)}):e.jsxs("div",{className:"goal-details",children:[e.jsxs("div",{className:"goal-details-header",children:[e.jsx("button",{className:"btn btn-outline-secondary",onClick:i,children:"← Back to Goals"}),e.jsxs("div",{className:"goal-details-actions",children:[e.jsx("button",{className:"btn btn-outline-primary",onClick:()=>n(!0),children:"Edit"}),e.jsx("button",{className:"btn btn-outline-danger",onClick:()=>a(s.id),children:"Delete"})]})]}),e.jsxs("div",{className:"goal-details-content",children:[e.jsxs("div",{className:"goal-header",children:[e.jsx("div",{className:"goal-icon-large",children:l(s.type)}),e.jsxs("div",{className:"goal-header-info",children:[e.jsx("h1",{children:s.title}),e.jsxs("div",{className:"goal-meta",children:[e.jsx("span",{className:`status-badge ${u(s.status)}`,children:s.status}),e.jsx("span",{className:"goal-type-badge",children:s.type.replace("_"," ")}),s.deadline&&e.jsxs("span",{className:`deadline-badge urgency-${x}`,children:["Due: ",_(s.deadline),m!==null&&e.jsx("small",{children:m>0?` (${m} days left)`:m===0?" (Due today!)":` (${Math.abs(m)} days overdue)`})]})]})]})]}),e.jsxs("div",{className:"goal-description",children:[e.jsx("h3",{children:"Description"}),e.jsx("p",{children:s.description})]}),s.targetValue&&e.jsxs("div",{className:"goal-progress-section",children:[e.jsx("h3",{children:"Progress"}),e.jsxs("div",{className:"progress-display",children:[e.jsx("div",{className:"progress-bar-large",children:e.jsx("div",{className:"progress-fill",style:{width:`${g}%`}})}),e.jsxs("div",{className:"progress-stats",children:[e.jsxs("div",{className:"progress-current",children:[e.jsx("span",{className:"progress-value",children:s.currentValue}),e.jsx("span",{className:"progress-label",children:"Current"})]}),e.jsxs("div",{className:"progress-target",children:[e.jsx("span",{className:"progress-value",children:s.targetValue}),e.jsx("span",{className:"progress-label",children:"Target"})]}),e.jsxs("div",{className:"progress-percentage",children:[e.jsxs("span",{className:"progress-value",children:[Math.round(g),"%"]}),e.jsx("span",{className:"progress-label",children:"Complete"})]})]})]}),s.status==="active"&&e.jsxs("div",{className:"progress-update",children:[e.jsx("h4",{children:"Update Progress"}),e.jsxs("div",{className:"progress-input-group",children:[e.jsx("input",{type:"number",value:c,onChange:v=>o(v.target.value),min:"0",step:"0.01",className:"progress-input"}),e.jsx("button",{className:"btn btn-primary",onClick:S,children:"Update"})]})]})]}),e.jsxs("div",{className:"goal-timeline",children:[e.jsx("h3",{children:"Timeline"}),e.jsxs("div",{className:"timeline-item",children:[e.jsx("div",{className:"timeline-dot created"}),e.jsxs("div",{className:"timeline-content",children:[e.jsx("strong",{children:"Goal Created"}),e.jsx("p",{children:_(s.createdAt)})]})]}),s.status==="completed"&&e.jsxs("div",{className:"timeline-item",children:[e.jsx("div",{className:"timeline-dot completed"}),e.jsxs("div",{className:"timeline-content",children:[e.jsx("strong",{children:"Goal Completed"}),e.jsx("p",{children:"Congratulations! 🎉"})]})]}),s.deadline&&s.status==="active"&&e.jsxs("div",{className:"timeline-item",children:[e.jsx("div",{className:`timeline-dot deadline urgency-${x}`}),e.jsxs("div",{className:"timeline-content",children:[e.jsx("strong",{children:"Deadline"}),e.jsx("p",{children:_(s.deadline)})]})]})]}),s.status==="active"&&e.jsxs("div",{className:"goal-actions",children:[e.jsx("h3",{children:"Quick Actions"}),e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"btn btn-success",onClick:()=>j("completed"),children:"Mark as Completed"}),e.jsx("button",{className:"btn btn-warning",onClick:()=>j("paused"),children:"Pause Goal"}),e.jsx("button",{className:"btn btn-danger",onClick:()=>j("cancelled"),children:"Cancel Goal"})]})]}),s.status==="paused"&&e.jsxs("div",{className:"goal-actions",children:[e.jsx("h3",{children:"Resume Goal"}),e.jsx("button",{className:"btn btn-success",onClick:()=>j("active"),children:"Resume Goal"})]}),s.status==="completed"&&e.jsxs("div",{className:"goal-celebration",children:[e.jsx("h3",{children:"🎉 Congratulations!"}),e.jsx("p",{children:"You've successfully completed this goal. Great work!"})]})]})]})};const ps=()=>{const{state:s,dispatch:t}=C(),[a,i]=y.useState("list"),[r,n]=y.useState([]),[c,o]=y.useState(null),[l,u]=y.useState(!0);y.useEffect(()=>{s.musicianProfile&&h()},[s.musicianProfile]);const h=async()=>{if(s.musicianProfile)try{u(!0);const x=await A.getGoals(s.musicianProfile.id);n(x)}catch(x){console.error("Error loading goals:",x),t({type:"SET_ERROR",payload:"Failed to load goals"})}finally{u(!1)}},p=()=>{t({type:"SET_PAGE",payload:"dashboard"})},d=async x=>{if(s.musicianProfile)try{const m={...x,id:Date.now().toString(),createdAt:new Date};await A.saveGoal(s.musicianProfile.id,m),t({type:"ADD_GOAL",payload:m}),n(v=>[...v,m]),i("list")}catch(m){console.error("Error creating goal:",m),alert("Failed to create goal. Please try again.")}},S=async(x,m)=>{if(s.musicianProfile)try{const v=r.find(E=>E.id===x);if(!v)return;const k={...v,...m};await A.saveGoal(s.musicianProfile.id,k),t({type:"UPDATE_GOAL",payload:{id:x,updates:m}}),n(E=>E.map(f=>f.id===x?k:f)),(c==null?void 0:c.id)===x&&o(k)}catch(v){console.error("Error updating goal:",v),alert("Failed to update goal. Please try again.")}},j=async x=>{if(s.musicianProfile&&window.confirm("Are you sure you want to delete this goal?"))try{n(m=>m.filter(v=>v.id!==x)),(c==null?void 0:c.id)===x&&(o(null),i("list"))}catch(m){console.error("Error deleting goal:",m),alert("Failed to delete goal. Please try again.")}},w=x=>{o(x),i("details")},g=()=>{if(!s.musicianProfile)return e.jsxs("div",{className:"goal-error",children:[e.jsx("h3",{children:"No Profile Selected"}),e.jsx("p",{children:"Please select a profile to manage goals."}),e.jsx("button",{className:"btn btn-primary",onClick:()=>t({type:"SET_PAGE",payload:"profile-selection"}),children:"Select Profile"})]});if(l)return e.jsxs("div",{className:"goal-loading",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Loading goals..."})]});switch(a){case"create":return e.jsx(ce,{onSubmit:d,onCancel:()=>i("list")});case"details":return c?e.jsx(hs,{goal:c,onUpdate:S,onDelete:j,onBack:()=>i("list")}):null;case"list":default:return e.jsx(ms,{goals:r,onGoalSelect:w,onCreateNew:()=>i("create")})}};return e.jsxs("div",{className:"goal-management",children:[e.jsxs("div",{className:"goal-header",children:[e.jsx("button",{className:"btn btn-outline-secondary",onClick:p,children:"← Back to Dashboard"}),e.jsx("h1",{children:"Goal Management"}),e.jsx("p",{children:"Set, track, and achieve your musical goals"})]}),e.jsx("div",{className:"goal-content",children:g()})]})},gs=({profile:s})=>{const{dispatch:t}=C(),[a,i]=y.useState(!1),[r,n]=y.useState([l()]),[c,o]=y.useState({venueName:"",venueType:"bar",audienceSize:"",duration:"",payment:"",notes:""});function l(){return{id:R(),date:new Date().toISOString().split("T")[0],venueName:"",venueType:"bar",audienceSize:"",duration:"",payment:"",notes:"",isValid:!1,errors:[]}}const u=m=>{const v=[];return m.venueName.trim()||v.push("Venue name is required"),(!m.audienceSize||parseInt(m.audienceSize)<0)&&v.push("Valid audience size is required"),(!m.duration||parseInt(m.duration)<=0)&&v.push("Valid duration is required"),(!m.payment||parseFloat(m.payment)<0)&&v.push("Valid payment amount is required"),new Date(m.date)>new Date&&v.push("Performance date cannot be in the future"),{isValid:v.length===0,errors:v}},h=(m,v,k)=>{n(E=>E.map(f=>{if(f.id===m){const N={...f,[v]:k},b=u(N);return{...N,isValid:b.isValid,errors:b.errors}}return f}))},p=()=>{const m=l();n(v=>[...v,m])},d=m=>{r.length>1&&n(v=>v.filter(k=>k.id!==m))},S=m=>{const v=r.find(k=>k.id===m);if(v){const k={...v,id:R(),date:new Date().toISOString().split("T")[0]};n(E=>[...E,k])}},j=()=>{n(m=>m.map(v=>{const k={...v,...c},E=u(k);return{...k,isValid:E.isValid,errors:E.errors}}))},w=()=>{n([l()])},g=async()=>{const m=r.filter(v=>v.isValid);if(m.length===0){alert("Please add at least one valid performance entry");return}i(!0);try{const v=m.map(k=>{var E;return{id:R(),date:new Date(k.date),venueName:k.venueName.trim(),venueType:k.venueType,audienceSize:parseInt(k.audienceSize),duration:parseInt(k.duration),payment:parseFloat(k.payment),notes:((E=k.notes)==null?void 0:E.trim())||void 0}});await A.bulkAddActivities(s.id,v),v.forEach(k=>{t({type:"ADD_PERFORMANCE",payload:k})}),alert(`Successfully added ${v.length} performance(s)!`),n([l()])}catch(v){console.error("Error adding performances:",v),alert("Failed to add performances. Please try again.")}finally{i(!1)}},x=r.filter(m=>m.isValid).length;return e.jsxs("div",{className:"bulk-performance-entry",children:[e.jsxs("div",{className:"bulk-header",children:[e.jsx("h2",{children:"Bulk Add Performances"}),e.jsx("p",{children:"Add multiple performances quickly. Use the template to set common values."})]}),e.jsxs("div",{className:"bulk-template",children:[e.jsx("h3",{children:"Template (Optional)"}),e.jsx("p",{children:"Set common values that can be applied to all entries"}),e.jsxs("div",{className:"template-form",children:[e.jsxs("div",{className:"template-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Venue Name"}),e.jsx("input",{type:"text",value:c.venueName,onChange:m=>o(v=>({...v,venueName:m.target.value})),placeholder:"e.g., Blue Note Cafe"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Venue Type"}),e.jsxs("select",{value:c.venueType,onChange:m=>o(v=>({...v,venueType:m.target.value})),children:[e.jsx("option",{value:"bar",children:"Bar"}),e.jsx("option",{value:"restaurant",children:"Restaurant"}),e.jsx("option",{value:"concert_hall",children:"Concert Hall"}),e.jsx("option",{value:"festival",children:"Festival"}),e.jsx("option",{value:"private_event",children:"Private Event"}),e.jsx("option",{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{className:"template-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Audience Size"}),e.jsx("input",{type:"number",value:c.audienceSize,onChange:m=>o(v=>({...v,audienceSize:m.target.value})),placeholder:"50",min:"0"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Duration (minutes)"}),e.jsx("input",{type:"number",value:c.duration,onChange:m=>o(v=>({...v,duration:m.target.value})),placeholder:"90",min:"1"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Payment ($)"}),e.jsx("input",{type:"number",value:c.payment,onChange:m=>o(v=>({...v,payment:m.target.value})),placeholder:"150.00",min:"0",step:"0.01"})]})]}),e.jsx("div",{className:"template-actions",children:e.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:j,children:"Apply Template to All"})})]})]}),e.jsxs("div",{className:"bulk-entries",children:[e.jsxs("div",{className:"entries-header",children:[e.jsxs("h3",{children:["Performances (",x," valid out of ",r.length,")"]}),e.jsxs("div",{className:"entries-actions",children:[e.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:p,children:"Add Entry"}),e.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:w,children:"Clear All"})]})]}),e.jsx("div",{className:"entries-list",children:r.map((m,v)=>e.jsxs("div",{className:`entry-item ${m.isValid?"valid":"invalid"}`,children:[e.jsxs("div",{className:"entry-header",children:[e.jsxs("span",{className:"entry-number",children:["#",v+1]}),e.jsxs("div",{className:"entry-actions",children:[e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>S(m.id),children:"Duplicate"}),e.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>d(m.id),disabled:r.length===1,children:"Remove"})]})]}),e.jsxs("div",{className:"entry-form",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date *"}),e.jsx("input",{type:"date",value:m.date,onChange:k=>h(m.id,"date",k.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Venue Name *"}),e.jsx("input",{type:"text",value:m.venueName,onChange:k=>h(m.id,"venueName",k.target.value),placeholder:"e.g., Blue Note Cafe"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Venue Type"}),e.jsxs("select",{value:m.venueType,onChange:k=>h(m.id,"venueType",k.target.value),children:[e.jsx("option",{value:"bar",children:"Bar"}),e.jsx("option",{value:"restaurant",children:"Restaurant"}),e.jsx("option",{value:"concert_hall",children:"Concert Hall"}),e.jsx("option",{value:"festival",children:"Festival"}),e.jsx("option",{value:"private_event",children:"Private Event"}),e.jsx("option",{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Audience Size *"}),e.jsx("input",{type:"number",value:m.audienceSize,onChange:k=>h(m.id,"audienceSize",k.target.value),placeholder:"50",min:"0"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Duration (min) *"}),e.jsx("input",{type:"number",value:m.duration,onChange:k=>h(m.id,"duration",k.target.value),placeholder:"90",min:"1"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Payment ($) *"}),e.jsx("input",{type:"number",value:m.payment,onChange:k=>h(m.id,"payment",k.target.value),placeholder:"150.00",min:"0",step:"0.01"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Notes"}),e.jsx("input",{type:"text",value:m.notes,onChange:k=>h(m.id,"notes",k.target.value),placeholder:"Any notes about this performance"})]}),m.errors.length>0&&e.jsx("div",{className:"entry-errors",children:m.errors.map((k,E)=>e.jsx("span",{className:"error-text",children:k},E))})]})]},m.id))})]}),e.jsxs("div",{className:"bulk-actions",children:[e.jsx("div",{className:"bulk-summary",children:e.jsxs("p",{children:[e.jsx("strong",{children:x})," valid entries out of ",e.jsx("strong",{children:r.length})," total"]})}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:g,disabled:a||x===0,children:a?"Adding Performances...":`Add ${x} Performance(s)`})]})]})},xs=({profile:s})=>{const{dispatch:t}=C(),[a,i]=y.useState(!1),[r,n]=y.useState([h()]),[c,o]=y.useState({duration:"",focusAreas:[],skillsWorkedOn:[],notes:""}),l=["Scales","Chords","Rhythm","Improvisation","Technique","Sight Reading","Ear Training","Song Learning","Performance Preparation"],u=["Fingering","Timing","Dynamics","Articulation","Intonation","Expression","Stage Presence","Equipment Setup","Music Theory"];function h(){return{id:R(),date:new Date().toISOString().split("T")[0],duration:"",focusAreas:[],skillsWorkedOn:[],notes:"",isValid:!1,errors:[]}}const p=f=>{const N=[];return(!f.duration||parseInt(f.duration)<=0)&&N.push("Valid duration is required"),f.focusAreas.length===0&&N.push("At least one focus area is required"),new Date(f.date)>new Date&&N.push("Practice date cannot be in the future"),{isValid:N.length===0,errors:N}},d=(f,N,b)=>{n(P=>P.map(M=>{if(M.id===f){const I={...M,[N]:b},q=p(I);return{...I,isValid:q.isValid,errors:q.errors}}return M}))},S=(f,N)=>{n(b=>b.map(P=>{if(P.id===f){const M=P.focusAreas.includes(N)?P.focusAreas.filter(oe=>oe!==N):[...P.focusAreas,N],I={...P,focusAreas:M},q=p(I);return{...I,isValid:q.isValid,errors:q.errors}}return P}))},j=(f,N)=>{n(b=>b.map(P=>{if(P.id===f){const M=P.skillsWorkedOn.includes(N)?P.skillsWorkedOn.filter(I=>I!==N):[...P.skillsWorkedOn,N];return{...P,skillsWorkedOn:M}}return P}))},w=()=>{const f=h();n(N=>[...N,f])},g=f=>{r.length>1&&n(N=>N.filter(b=>b.id!==f))},x=f=>{const N=r.find(b=>b.id===f);if(N){const b={...N,id:R(),date:new Date().toISOString().split("T")[0]};n(P=>[...P,b])}},m=()=>{n(f=>f.map(N=>{const b={...N,...c},P=p(b);return{...b,isValid:P.isValid,errors:P.errors}}))},v=()=>{n([h()])},k=async()=>{const f=r.filter(N=>N.isValid);if(f.length===0){alert("Please add at least one valid practice session");return}i(!0);try{const N=f.map(b=>({id:R(),date:new Date(b.date),duration:parseInt(b.duration),focusAreas:b.focusAreas,skillsWorkedOn:b.skillsWorkedOn,notes:b.notes.trim()||void 0}));await A.bulkAddActivities(s.id,N),N.forEach(b=>{t({type:"ADD_PRACTICE_SESSION",payload:b})}),alert(`Successfully added ${N.length} practice session(s)!`),n([h()])}catch(N){console.error("Error adding practice sessions:",N),alert("Failed to add practice sessions. Please try again.")}finally{i(!1)}},E=r.filter(f=>f.isValid).length;return e.jsxs("div",{className:"bulk-practice-entry",children:[e.jsxs("div",{className:"bulk-header",children:[e.jsx("h2",{children:"Bulk Add Practice Sessions"}),e.jsx("p",{children:"Add multiple practice sessions quickly. Use the template to set common values."})]}),e.jsxs("div",{className:"bulk-template",children:[e.jsx("h3",{children:"Template (Optional)"}),e.jsx("p",{children:"Set common values that can be applied to all entries"}),e.jsxs("div",{className:"template-form",children:[e.jsx("div",{className:"template-row",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Duration (minutes)"}),e.jsx("input",{type:"number",value:c.duration,onChange:f=>o(N=>({...N,duration:f.target.value})),placeholder:"60",min:"1"})]})}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Focus Areas"}),e.jsx("div",{className:"checkbox-grid",children:l.map(f=>e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:c.focusAreas.includes(f),onChange:N=>{const b=N.target.checked?[...c.focusAreas,f]:c.focusAreas.filter(P=>P!==f);o(P=>({...P,focusAreas:b}))}}),f]},f))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Skills Worked On"}),e.jsx("div",{className:"checkbox-grid",children:u.map(f=>e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:c.skillsWorkedOn.includes(f),onChange:N=>{const b=N.target.checked?[...c.skillsWorkedOn,f]:c.skillsWorkedOn.filter(P=>P!==f);o(P=>({...P,skillsWorkedOn:b}))}}),f]},f))})]}),e.jsx("div",{className:"template-actions",children:e.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:m,children:"Apply Template to All"})})]})]}),e.jsxs("div",{className:"bulk-entries",children:[e.jsxs("div",{className:"entries-header",children:[e.jsxs("h3",{children:["Practice Sessions (",E," valid out of ",r.length,")"]}),e.jsxs("div",{className:"entries-actions",children:[e.jsx("button",{type:"button",className:"btn btn-outline-secondary",onClick:w,children:"Add Entry"}),e.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:v,children:"Clear All"})]})]}),e.jsx("div",{className:"entries-list",children:r.map((f,N)=>e.jsxs("div",{className:`entry-item ${f.isValid?"valid":"invalid"}`,children:[e.jsxs("div",{className:"entry-header",children:[e.jsxs("span",{className:"entry-number",children:["#",N+1]}),e.jsxs("div",{className:"entry-actions",children:[e.jsx("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>x(f.id),children:"Duplicate"}),e.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm",onClick:()=>g(f.id),disabled:r.length===1,children:"Remove"})]})]}),e.jsxs("div",{className:"entry-form",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date *"}),e.jsx("input",{type:"date",value:f.date,onChange:b=>d(f.id,"date",b.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Duration (minutes) *"}),e.jsx("input",{type:"number",value:f.duration,onChange:b=>d(f.id,"duration",b.target.value),placeholder:"60",min:"1"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Focus Areas * (select at least one)"}),e.jsx("div",{className:"checkbox-grid-compact",children:l.map(b=>e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:f.focusAreas.includes(b),onChange:()=>S(f.id,b)}),b]},b))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Skills Worked On (optional)"}),e.jsx("div",{className:"checkbox-grid-compact",children:u.map(b=>e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:f.skillsWorkedOn.includes(b),onChange:()=>j(f.id,b)}),b]},b))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Notes"}),e.jsx("input",{type:"text",value:f.notes,onChange:b=>d(f.id,"notes",b.target.value),placeholder:"Any notes about this practice session"})]}),f.errors.length>0&&e.jsx("div",{className:"entry-errors",children:f.errors.map((b,P)=>e.jsx("span",{className:"error-text",children:b},P))})]})]},f.id))})]}),e.jsxs("div",{className:"bulk-actions",children:[e.jsx("div",{className:"bulk-summary",children:e.jsxs("p",{children:[e.jsx("strong",{children:E})," valid entries out of ",e.jsx("strong",{children:r.length})," total"]})}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:k,disabled:a||E===0,children:a?"Adding Sessions...":`Add ${E} Session(s)`})]})]})};const vs=()=>{const{state:s,dispatch:t}=C(),[a,i]=y.useState("performance"),r=()=>{t({type:"SET_PAGE",payload:"dashboard"})},n=()=>{if(!s.musicianProfile)return e.jsxs("div",{className:"bulk-error",children:[e.jsx("h3",{children:"No Profile Selected"}),e.jsx("p",{children:"Please select a profile to bulk enter activities."}),e.jsx("button",{className:"btn btn-primary",onClick:()=>t({type:"SET_PAGE",payload:"profile-selection"}),children:"Select Profile"})]});switch(a){case"performance":return e.jsx(gs,{profile:s.musicianProfile});case"practice":return e.jsx(xs,{profile:s.musicianProfile});default:return null}};return e.jsxs("div",{className:"bulk-entry",children:[e.jsxs("div",{className:"bulk-header",children:[e.jsx("button",{className:"btn btn-outline-secondary",onClick:r,children:"← Back to Dashboard"}),e.jsx("h1",{children:"Bulk Entry"}),e.jsx("p",{children:"Quickly add multiple activities to catch up on your tracking"})]}),e.jsxs("div",{className:"bulk-tabs",children:[e.jsx("button",{className:`tab-button ${a==="performance"?"active":""}`,onClick:()=>i("performance"),children:"🎤 Bulk Add Performances"}),e.jsx("button",{className:`tab-button ${a==="practice"?"active":""}`,onClick:()=>i("practice"),children:"🎵 Bulk Add Practice Sessions"})]}),e.jsx("div",{className:"bulk-content",children:n()})]})};class fs extends y.Component{constructor(){super(...arguments);V(this,"state",{hasError:!1,error:null,errorInfo:null});V(this,"handleRefresh",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()});V(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null})})}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,i){console.error("ErrorBoundary caught an error:",a,i),this.setState({errorInfo:i})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"error-boundary",children:e.jsxs("div",{className:"error-boundary-content",children:[e.jsx("h1",{children:"Oops! Something went wrong"}),e.jsx("p",{children:"We're sorry, but something unexpected happened. You can try refreshing the page or starting over."}),e.jsxs("div",{className:"error-boundary-actions",children:[e.jsx(F,{onClick:this.handleRefresh,variant:"primary",children:"Refresh Page"}),e.jsx(F,{onClick:this.handleReset,variant:"outline",children:"Try Again"})]}),!1]})}):this.props.children}}function js(){const{state:s}=C(),t=()=>{switch(s.currentPage){case"landing":return e.jsx(ee,{});case"profile-selection":return e.jsx(te,{});case"profile-creation":return e.jsx(se,{});case"dashboard":return s.musicianProfile?e.jsx(cs,{profile:s.musicianProfile}):e.jsx(te,{});case"activity-entry":return e.jsx(us,{});case"goal-management":return e.jsx(ps,{});case"bulk-entry":return e.jsx(vs,{});case"form":return e.jsx(se,{});case"results":return e.jsx(Ye,{});default:return e.jsx(ee,{})}};return e.jsx(fs,{children:e.jsx("div",{className:"App",children:t()})})}ae(document.getElementById("root")).render(e.jsx(y.StrictMode,{children:e.jsx(Ae,{children:e.jsx(js,{})})}));
